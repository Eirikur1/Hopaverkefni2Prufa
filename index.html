<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Venuu - Discover Amazing Events</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/DrawSVGPlugin.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/ScrollToPlugin.min.js"></script>
    <script src="https://unpkg.com/in-view@0.6.1/dist/in-view.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @font-face {
            font-family: 'RubikMonoOne';
            src: url('Fonts/RubikMonoOne-Regular.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
        }
        
        @font-face {
            font-family: 'Inter';
            src: url('Fonts/Google_Sans_Code,Inter,Righteous,Rubik_Mono_One/Inter/static/Inter_18pt-Medium.ttf') format('truetype');
            font-weight: 500;
            font-style: normal;
        }
        
        @font-face {
            font-family: 'Inter';
            src: url('Fonts/Google_Sans_Code,Inter,Righteous,Rubik_Mono_One/Inter/static/Inter_18pt-Regular.ttf') format('truetype');
            font-weight: 400;
            font-style: normal;
        }
        
        @font-face {
            font-family: 'Inter';
            src: url('Fonts/Google_Sans_Code,Inter,Righteous,Rubik_Mono_One/Inter/static/Inter_18pt-ExtraBold.ttf') format('truetype');
            font-weight: 800;
            font-style: normal;
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#340824',
                        'accent': '#E55050',
                        'background': '#FFFDF8',
                        'surface': 'rgba(255, 253, 248, 0.8)',
                        'surface-hover': 'rgba(229, 80, 80, 0.05)',
                    },
                    fontFamily: {
                        'sans': ['Inter', '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'sans-serif'],
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-up': 'slideUp 0.6s ease-out',
                        'bounce-in': 'bounceIn 0.8s ease-out',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        },
                        bounceIn: {
                            '0%': { transform: 'scale(0.3)', opacity: '0' },
                            '50%': { transform: 'scale(1.05)' },
                            '70%': { transform: 'scale(0.9)' },
                            '100%': { transform: 'scale(1)', opacity: '1' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        /* Essential Custom Styles Only */
        html {
            scroll-behavior: smooth;
        }

        /* Text Draw Effect Styles */
        .text-draw {
            color: #340AFF;
            text-decoration: none;
            font-size: 14px;
            font-weight: 400;
            letter-spacing: 0.01em;
            transition: color 0.2s ease;
            position: relative;
        }

        .text-draw:hover {
            color: #340AFF;
        }

        .text-draw__p {
            margin-bottom: 0;
            font-size: 1em;
            font-weight: 400;
            line-height: 1.1;
        }

        .text-draw__box {
            color: #340AFF;
            width: 100%;
            height: 0.625em;
            position: relative;
        }

        .text-draw__box-svg {
            width: 100%;
            height: 100%;
            position: absolute;
            overflow: visible !important;
        }

        /* Hero Text Draw Effect */
        .text-draw-hero {
            color: #340AFF;
            text-decoration: none;
            font-family: 'RubikMonoOne', monospace;
            font-size: clamp(32px, 8vw, 140px);
            font-weight: normal;
            letter-spacing: -0.04em;
            transition: color 0.2s ease;
            position: relative;
            display: inline-block;
        }

        .text-draw-hero:hover {
            color: #340AFF;
        }

        .text-draw-hero .text-draw__p {
            margin-bottom: 0;
            font-size: 1em;
            font-weight: 300;
            line-height: 0.9;
        }

        .text-draw-hero .text-draw__box {
            color: #340AFF;
            width: 100%;
            height: 0.8em;
            position: relative;
        }

        /* Hero Text Draw Effect - Special color for main hero */
        .text-draw-hero-main {
            color: #FF3409;
            text-decoration: none;
            font-family: 'RubikMonoOne', monospace;
            font-size: clamp(32px, 8vw, 140px);
            font-weight: normal;
            line-height: 0.9;
            display: inline-block;
            position: relative;
            overflow: hidden;
        }

        .text-draw-hero-main:hover {
            color: #FF3409;
        }

        .text-draw-hero-main .text-draw__p {
            margin-bottom: 0;
            font-size: 1em;
            font-weight: 300;
            line-height: 0.9;
        }

        .text-draw-hero-main .text-draw__box {
            color: #FF3409;
            width: 100%;
            height: 0.8em;
            position: relative;
        }


        /* Text Animation Styles */
        .splitted-word {
            overflow: hidden;
            display: inline-block;
            line-height: 1.1;
            white-space: nowrap;
        }
        
        .splitted-letter {
            display: inline-block;
            transform: translateY(100%);
            position: relative;
            z-index: 1;
        }
        
        .splitted-letter:before { 
            content: '';
            position: absolute;
            z-index: -1;
            background: #340AFF;
            height: 7px;
            width: 0%;
            top: 90%;
            left: 0;
            opacity: 0;
            transition: all .4s ease-in-out .35s;
        }
        
        .splitted-letter.viewed:before {
            opacity: 1;
            width: 100%;
        }

        /* Enhanced Text Animation Styles */
        .tit .splitted-word {
            overflow: hidden;
            display: inline-block;
            line-height: 1.1;
            white-space: nowrap;
        }
        
        .tit .splitted-letter {
            display: inline-block;
            transform: translateY(100%);
            position: relative;
            z-index: 1;
        }
        
        .tit .splitted-letter:before { 
            content: '';
            position: absolute;
            z-index: -1;
            background: #340AFF;
            height: 7px;
            width: 0%;
            top: 90%;
            left: 0;
            opacity: 0;
            transition: all .4s ease-in-out .35s;
        }
        
        .tit .splitted-letter.viewed:before {
            opacity: 1;
            width: 100%;
        }

        /* Text Animation without underline */
        .tit-no-underline .splitted-word {
            overflow: hidden;
            display: inline-block;
            line-height: 1.1;
            white-space: nowrap;
        }
        
        .tit-no-underline .splitted-letter {
            display: inline-block;
            transform: translateY(100%);
            position: relative;
            z-index: 1;
        }
        
        .tit-no-underline .splitted-letter:before { 
            display: none; /* Hide the underline effect */
        }

        /* Carousel Navigation Styles */
        .nav {
            text-align: center;
            margin: 0;
            padding: 0;
            list-style: none;
            display: flex;
            gap: 1rem;
            justify-content: center;
        }
        
        .nav__item {
            display: inline-block;
            cursor: pointer;
            width: 2em;
            line-height: 2em;
            position: relative;
            z-index: 1;
            user-select: none;
            color: rgba(52, 8, 36, 0.7);
            font-weight: bold;
            transition: color 0.2s;
        }
        
        .nav__item svg {
            position: absolute;
            z-index: -1;
            top: 0;
            left: 0;
        }
        
        .nav__item svg circle {
            fill: none;
            stroke: #E55050;
            stroke-width: 1;
            stroke-linecap: round;
            stroke-dasharray: 39 39;
            stroke-dashoffset: 39;
            transition: stroke-dashoffset 0.5s;
        }
        
        .nav__item--active span {
            color: #E55050;
            transition: color 0.2s;
        }
        
        .nav__item--active svg circle {
            stroke-dashoffset: 0;
        }

        /* Fade-in text animation */
        .fade-in-text {
            opacity: 0;
            animation: fadeInText 2s ease-in-out 0.5s forwards;
        }

        @keyframes fadeInText {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Events Grid Masonry Styles */
        .events-grid {
            max-width: 1100px;
            margin: 0 auto;
            display: grid;
            grid-gap: 50px;
            grid-template-columns: repeat(6, 1fr);
            justify-content: center;
            align-content: end;
            grid-auto-flow: dense;
            padding: 0 20px;
        }

        .event-item {
            position: relative;
            z-index: 1;
            align-self: start;
            grid-column: span 2;
            grid-row: span 2;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            gap: 0;
        }

        .event-item:hover {
            transform: translateY(-8px) scale(1.02);
        }

        /* Large items - every 6th item starting from 1st */
        .event-item:nth-child(6n+1) {
            grid-column: span 4;
            grid-row: span 4;
        }

        /* Medium items - every 8th item starting from 4th and 5th */
        .event-item:nth-child(8n+4),
        .event-item:nth-child(8n+5) {
            grid-column: span 3;
            grid-row: span 3;
        }

        .event-img {
            position: relative;
            z-index: 1;
            width: 100%;
            margin-bottom: 8px;
        }


        .event-img img {
            width: 100%;
            height: auto;
            display: block;
            transition: all 0.4s ease;
            filter: brightness(1) contrast(1.1);
        }

        .event-item:hover .event-img img {
            transform: scale(1.05);
            filter: brightness(1.1) contrast(1.2);
        }

        .event-caption {
            position: relative;
            z-index: 2;
            width: 100%;
            padding: 20px 0 0 0;
            font-family: Inter, sans-serif;
        }

        .event-caption .event-title {
            font-size: 18px;
            color: #340824;
            font-weight: 700;
            margin-bottom: 8px;
            line-height: 1.2;
            letter-spacing: -0.02em;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            max-width: 100%;
        }

        .event-caption .event-location {
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 6px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .event-caption .event-location::before {
            content: '';
            width: 16px;
            height: 16px;
            background-image: url('icons/distance_24dp_E3E3E3_FILL0_wght400_GRAD0_opsz24.svg');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            display: inline-block;
            flex-shrink: 0;
            filter: brightness(0) saturate(100%);
        }

        .event-caption .event-date {
            font-size: 13px;
            color: #9ca3af;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .event-caption .event-date::before {
            content: '';
            width: 16px;
            height: 16px;
            background-image: url('icons/calendar_month_24dp_E3E3E3_FILL0_wght400_GRAD0_opsz24.svg');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            display: inline-block;
            flex-shrink: 0;
        }

        .event-date-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }

        .event-heart {
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .event-heart:hover {
            transform: scale(1.1);
        }

        .event-heart svg {
            width: 17px;
            height: 16px;
        }


        /* Responsive adjustments */
        @media (max-width: 768px) {
            .events-grid {
                grid-template-columns: repeat(2, 1fr);
                grid-gap: 20px;
                padding: 0 15px;
            }
            
            .event-item {
                grid-column: span 1;
                grid-row: span 1;
            }
            
            .event-item:nth-child(6n+1),
            .event-item:nth-child(8n+4),
            .event-item:nth-child(8n+5) {
                grid-column: span 1;
                grid-row: span 1;
            }

            .event-img {
                margin-bottom: 6px;
            }

            .event-caption {
                padding: 16px 0 0 0;
            }

            .event-caption .event-title {
                font-size: 16px;
            }

            .event-caption .event-location {
                font-size: 13px;
            }

            .event-caption .event-date {
                font-size: 12px;
            }
        }

        @media (max-width: 480px) {
            .events-grid {
                grid-template-columns: 1fr;
                grid-gap: 15px;
                padding: 0 10px;
            }

            .event-img {
                margin-bottom: 4px;
            }

            .event-caption {
                padding: 14px 0 0 0;
            }

            .event-caption .event-title {
                font-size: 15px;
            }

            .event-caption .event-location {
                font-size: 12px;
            }

            .event-caption .event-date {
                font-size: 11px;
            }
        }

        /* Search Bar Styles */
        .search-container {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }

        .search-bar {
            position: relative;
            width: 100%;
            max-width: 600px;
        }

        .search-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: rgba(255, 253, 248, 0.98);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 52, 10, 0.1);
            border-top: none;
            border-radius: 0 0 25px 25px;
            max-height: 300px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
            box-shadow: 0 12px 32px rgba(255, 52, 10, 0.15);
            margin-top: 2px;
        }

        .search-dropdown.show {
            display: block;
        }

        .search-suggestion {
            padding: 14px 20px;
            cursor: pointer;
            border-bottom: 1px solid rgba(255, 52, 10, 0.08);
            transition: all 0.3s ease;
            position: relative;
        }

        .search-suggestion:hover {
            background-color: rgba(255, 52, 10, 0.08);
            transform: translateX(4px);
        }

        .search-suggestion:last-child {
            border-bottom: none;
        }

        .suggestion-title {
            font-weight: 500;
            color: #340AFF;
            margin-bottom: 4px;
            font-size: 15px;
            font-family: Inter, sans-serif;
        }

        .suggestion-details {
            font-size: 12px;
            color: rgba(52, 8, 36, 0.7);
            font-weight: 400;
            font-family: Inter, sans-serif;
        }

        .no-results {
            padding: 20px;
            text-align: center;
            color: rgba(52, 8, 36, 0.6);
            font-style: italic;
            font-size: 14px;
            font-family: Inter, sans-serif;
        }

        .search-input {
            width: 100%;
            padding: 12px 16px 12px 40px;
            border: 3px solid #1F2937;
            border-radius: 25px;
            font-size: 14px;
            background-color: transparent;
            color: #1F2937;
            transition: all 0.3s ease;
            outline: none;
            font-family: Inter, sans-serif;
            font-weight: 400;
        }

        .search-input:focus {
            border-color: #1F2937;
            background-color: rgba(255, 253, 248, 0.3);
            box-shadow: 0 0 0 4px rgba(31, 41, 55, 0.2);
        }

        .search-input::placeholder {
            color: #1F2937;
            font-weight: 300;
        }

        .search-btn {
            position: absolute;
            left: 8px;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 20px;
            border: none;
            background: transparent;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .search-btn:hover {
            /* Hover effects removed */
        }

        .search-btn svg {
            width: 16px;
            height: 16px;
            fill: #1F2937;
        }

        /* Recommended Events Carousel Styles */
        .recommended-carousel-container {
            position: relative;
            width: 100%;
            touch-action: pan-y pinch-zoom;
            -webkit-overflow-scrolling: touch;
            padding: 0;
        }

        .recommended-carousel-track {
            display: flex;
            gap: 24px;
            padding: 0;
        }

        .recommended-event-card {
            display: flex;
            width: 262px;
            height: 330px;
            flex-direction: column;
            align-items: center;
            gap: 16px;
            flex-shrink: 0;
            border-radius: 8px;
            border: 1px solid rgba(0, 0, 0, 0.20);
            background: #FFF;
            position: relative;
            z-index: 1;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            overflow: hidden;
        }

        .recommended-event-card:hover {
            transform: translateY(-8px) scale(1.02);
        }

        /* First and last card spacing to go behind padding */
        .recommended-carousel-track .recommended-event-card:first-child {
            margin-left: 96px;
        }

        .recommended-carousel-track .recommended-event-card:last-child {
            margin-right: 96px;
        }

        .recommended-event-image {
            width: 262px;
            height: 175px;
            flex-shrink: 0;
            aspect-ratio: 262/175;
            border-radius: 8px 8px 0 0;
            border: 1px solid rgba(35, 213, 142, 0.20);
            background: lightgray 50% / cover no-repeat;
            position: relative;
            z-index: 1;
        }

        .recommended-event-image img {
            width: 100%;
            height: 100%;
            display: block;
            transition: all 0.4s ease;
            filter: brightness(1) contrast(1.1);
            border-radius: 8px 8px 0 0;
            object-fit: cover;
        }

        .recommended-event-card:hover .recommended-event-image img {
            transform: scale(1.05);
            filter: brightness(1.1) contrast(1.2);
        }

        .recommended-event-content {
            position: relative;
            z-index: 2;
            display: flex;
            width: 230px;
            flex-direction: column;
            align-items: flex-start;
            gap: 8px;
            font-family: Inter, sans-serif;
        }

        .recommended-event-title {
            align-self: stretch;
            color: #333;
            font-family: Inter;
            font-size: 20px;
            font-style: normal;
            font-weight: 500;
            line-height: 1.3;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            max-width: 100%;
        }

        .recommended-event-description {
            align-self: stretch;
            color: #333;
            font-family: Inter;
            font-size: 13px;
            font-style: normal;
            font-weight: 400;
            line-height: 1.4;
            text-align: left;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            max-height: calc(1.4em * 2);
        }

        .heart-icon {
            width: 17px;
            height: 16px;
            aspect-ratio: 17/16;
            display: inline-block;
        }

        .category-title {
            color: #340AFF;
            font-family: Inter;
            font-size: 25px;
            font-style: normal;
            font-weight: 800;
            line-height: normal;
        }


        .recommended-event-date {
            color: #333;
            text-align: left;
            font-family: Inter;
            font-size: 13px;
            font-style: normal;
            font-weight: 400;
            line-height: normal;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .recommended-event-date::before {
            content: '';
            display: flex;
            width: 16px;
            height: 16px;
            align-items: flex-start;
            gap: 27px;
            flex-shrink: 0;
            aspect-ratio: 1/1;
            background-image: url('icons/calendar_month_24dp_E3E3E3_FILL0_wght400_GRAD0_opsz24.svg');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            filter: brightness(0) saturate(100%) invert(20%) sepia(8%) saturate(1000%) hue-rotate(200deg) brightness(95%) contrast(90%);
        }

        .recommended-event-date-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }


        .carousel-nav {
            opacity: 1;
            transition: all 0.3s ease;
        }

        .carousel-nav:disabled {
            opacity: 0.2;
            cursor: not-allowed;
        }

        .carousel-nav:disabled svg {
            color: rgba(156, 163, 175, 0.3) !important;
        }

        /* Arrow Animation */
        .arrow-animate {
            transition: transform 0.3s ease;
        }

        .arrow-animate:hover {
            transform: translateX(4px);
        }

        @keyframes arrowPulse {
            0%, 100% {
                transform: translateX(0);
            }
            50% {
                transform: translateX(2px);
            }
        }

        .arrow-animate {
            animation: arrowPulse 2s ease-in-out infinite;
        }

        .recommended-carousel-container {
            user-select: none;
        }

        .recommended-carousel-container.dragging {
            cursor: grabbing;
        }

        .recommended-carousel-container.dragging .recommended-carousel-track {
            transition: none;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .recommended-event-card {
                width: 280px;
                height: 320px;
            }
            
            .recommended-event-image img {
                height: 200px;
            }
            
            .recommended-event-content {
                padding: 16px 0 0 0;
            }
            
            .recommended-event-title {
                font-size: 16px;
            }
            
            .carousel-nav {
                opacity: 1;
                width: 32px;
                height: 32px;
            }
            
            /* Mobile search bar adjustments */
            .search-input {
                font-size: 16px; /* Prevents zoom on iOS */
                padding: 14px 16px 14px 44px;
            }
            
            .search-btn {
                left: 10px;
            }
            
            /* Mobile carousel adjustments */
            .recommended-carousel-container {
                padding: 0;
            }
            
            .recommended-carousel-track {
                padding: 0;
            }
            
            /* Mobile first and last card spacing */
            .recommended-carousel-track .recommended-event-card:first-child {
                margin-left: 16px;
            }

            .recommended-carousel-track .recommended-event-card:last-child {
                margin-right: 16px;
            }
            
            /* Mobile section spacing */
            .py-12 {
                padding-top: 2rem;
                padding-bottom: 2rem;
            }
        }
        
        @media (max-width: 480px) {
            .recommended-event-card {
                width: 260px;
                height: 300px;
            }
            
            .recommended-event-image img {
                height: 180px;
            }
            
            .recommended-event-title {
                font-size: 15px;
            }
            
            .recommended-event-description {
                font-size: 13px;
            }
            
            .recommended-event-date {
                font-size: 12px;
            }
            
            /* Extra small mobile adjustments */
            .search-input {
                padding: 12px 16px 12px 40px;
                font-size: 16px;
            }
            
            .carousel-nav {
                width: 28px;
                height: 28px;
            }
            
            .carousel-nav svg {
                width: 16px;
                height: 16px;
            }
        }

        /* Accessibility Styles */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        .sr-only:focus {
            position: static;
            width: auto;
            height: auto;
            padding: inherit;
            margin: inherit;
            overflow: visible;
            clip: auto;
            white-space: normal;
        }

        /* Enhanced focus indicators */
        *:focus {
            outline: 2px solid #1F2937;
            outline-offset: 2px;
        }

        /* Skip link styling */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 6px;
            background: #1F2937;
            color: white;
            padding: 8px;
            text-decoration: none;
            border-radius: 4px;
            z-index: 1000;
        }

        .skip-link:focus {
            top: 6px;
        }

        /* High contrast mode support */
        @media (prefers-contrast: high) {
            .text-draw-hero, .text-draw-hero-main {
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            }
            
            .search-input {
                border-width: 3px;
            }
        }

        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }


    </style>
</head>
<body class="bg-background text-primary font-sans text-base leading-relaxed m-0 p-0 min-h-full">
    <!-- Skip Navigation Link -->
    <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-[#1F2937] text-white px-4 py-2 rounded z-50">Skip to main content</a>
    
    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 bg-background z-50" role="navigation" aria-label="Main navigation" style="display: flex; width: 100%; height: 83px; justify-content: space-between; align-items: center; flex-shrink: 0;">
        <div class="flex justify-between items-center w-full" style="padding: 0 96px;">
            <a href="index.html" id="logo-link" class="no-underline" aria-label="Venuu - Go to homepage">
                <div id="lottie-logo" class="h-12 md:h-14 w-auto"></div>
            </a>
            
            <!-- Desktop Navigation -->
            <ul class="hidden md:flex list-none m-0 p-0 gap-6 lg:gap-10" role="menubar" aria-label="Main navigation menu">
                <li role="none"><a data-draw-line="" href="events.html" class="text-draw" role="menuitem" aria-label="View all events">
                    <span class="text-draw__p">Events</span>
                    <div data-draw-line-box="" class="text-draw__box"></div>
                </a></li>
                <li role="none"><a data-draw-line="" href="#" class="text-draw" role="menuitem" aria-label="Create a new event" onclick="openCreateEventModal(); return false;">
                    <span class="text-draw__p">Create Event</span>
                    <div data-draw-line-box="" class="text-draw__box"></div>
                </a></li>
                <li role="none"><a data-draw-line="" href="login.html" class="text-draw" role="menuitem" aria-label="Log in to your account">
                    <span class="text-draw__p">Log In</span>
                    <div data-draw-line-box="" class="text-draw__box"></div>
                </a></li>
                <li role="none"><a data-draw-line="" href="#" class="text-draw" role="menuitem" aria-label="View your favorite events">
                    <span class="text-draw__p">Favorites</span>
                    <div data-draw-line-box="" class="text-draw__box"></div>
                </a></li>
            </ul>

            <!-- Mobile Menu Button -->
            <button id="mobile-menu-btn" class="md:hidden p-2 text-primary hover:text-accent transition-colors duration-200" aria-label="Open mobile navigation menu" aria-expanded="false" aria-controls="mobile-menu">
                <i class="fas fa-bars text-xl" aria-hidden="true"></i>
            </button>
        </div>

        <!-- Mobile Navigation Menu -->
        <div id="mobile-menu" class="md:hidden bg-background border-t border-primary/10 hidden" role="menu" aria-label="Mobile navigation menu">
            <div class="px-4 py-4 space-y-4">
                <a data-draw-line="" href="events.html" class="block text-draw py-2" role="menuitem" aria-label="View all events">
                    <span class="text-draw__p">Events</span>
                    <div data-draw-line-box="" class="text-draw__box"></div>
                </a>
                <a data-draw-line="" href="#" class="block text-draw py-2" role="menuitem" aria-label="Create a new event" onclick="openCreateEventModal(); return false;">
                    <span class="text-draw__p">Create Event</span>
                    <div data-draw-line-box="" class="text-draw__box"></div>
                </a>
                <a data-draw-line="" href="login.html" class="block text-draw py-2" role="menuitem" aria-label="Log in to your account">
                    <span class="text-draw__p">Log In</span>
                    <div data-draw-line-box="" class="text-draw__box"></div>
                </a>
                <a data-draw-line="" href="#" class="block text-draw py-2" role="menuitem" aria-label="View your favorite events">
                    <span class="text-draw__p">Favorites</span>
                    <div data-draw-line-box="" class="text-draw__box"></div>
                </a>
                <a data-draw-line="" href="#" class="block text-draw py-2" role="menuitem" aria-label="User profile and account">
                    <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="#340AFF" aria-hidden="true">
                        <path d="M480-340q63 0 112-39t63-101h-83q-12 27-37 43.5T480-420q-30 0-55-16.5T388-480h-83q14 62 63 101t112 39ZM370-540q21 0 35.5-14.5T420-590q0-21-14.5-35.5T370-640q-21 0-35.5 14.5T320-590q0 21 14.5 35.5T370-540Zm220 0q21 0 35.5-14.5T640-590q0-21-14.5-35.5T590-640q-21 0-35.5 14.5T540-590q0 21 14.5 35.5T590-540ZM480-120l-58-50q-101-88-167-152T150-437q-39-51-54.5-94T80-620q0-94 63-157t157-63q52 0 99 22t81 62q34-40 81-62t99-22q94 0 157 63t63 157q0 46-15.5 89T810-437q-39 51-105 115T538-170l-58 50Zm0-108q96-83 158-141t98-102.5q36-44.5 50-79t14-69.5q0-60-40-100t-100-40q-47 0-87 26.5T518-666h-76q-15-41-55-67.5T300-760q-60 0-100 40t-40 100q0 35 14 69.5t50 79Q260-427 322-369t158 141Zm0-266Z"/>
                    </svg>
                    <div data-draw-line-box="" class="text-draw__box"></div>
                </a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="main-content" role="main" class="relative z-5">
    <!-- Hero Section -->
        <section class="pb-8 md:pb-12 relative bg-background" style="display: flex; width: 1442px; padding: 100px 516px 0 516px; flex-direction: column; justify-content: center; align-items: center; gap: 10px; margin: 0 auto; text-align: center;" aria-labelledby="hero-title">
            <h1 id="hero-title" class="leading-tight" style="display: flex; width: 415px; height: 153px; flex-direction: column; justify-content: center; color: #FF3409; text-align: center; font-family: 'Rubik Mono One'; font-size: 61px !important; font-style: normal; font-weight: 400; line-height: normal;"><a data-draw-line="" href="#" class="text-draw-hero-main" aria-label="Discover Events - Main heading" style="font-size: 61px !important;">
            <span class="text-draw__p" style="font-size: 61px !important;">Discover Events</span>
            <div data-draw-line-box="" class="text-draw__box"></div>
        </a></h1>
    </section>

    <!-- Search Bar Section -->
    <section class="py-2 md:py-3 bg-background flex justify-center" style="margin-top: 40px;" aria-label="Search for events">
        <div class="search-bar" style="display: flex; width: 407px; height: 30px; padding: 0 32px; flex-direction: row; justify-content: space-between; align-items: center; gap: 10px; border-radius: 25px; border: 0.5px solid #6B6666; background: #FFF;">
                    <label for="searchInput" class="sr-only">Search for events, locations, or categories</label>
                    <input type="text" class="search-input" placeholder="Search for events, locations, or categories..." id="searchInput" aria-describedby="search-help" autocomplete="off" role="searchbox" style="flex: 1; border: none; outline: none; background: transparent; font-size: 14px; color: #333; border-radius: 25px; box-shadow: none; -webkit-appearance: none; -moz-appearance: none; padding-left: 0;">
                    <button class="search-btn" id="searchBtn" type="button" aria-label="Search" aria-describedby="search-help" style="display: flex; align-items: center; justify-content: center; background: none; border: none; cursor: pointer;">
                        <img src="icons/Search_icon.svg" alt="Search" width="13" height="13" aria-hidden="true">
                    </button>
                    <div class="search-dropdown" id="searchDropdown" role="listbox" aria-label="Search suggestions" aria-live="polite">
                        <!-- Search suggestions will be populated here -->
                    </div>
                    <div id="search-help" class="sr-only">Type to search for events by name, location, or category. Use arrow keys to navigate suggestions and Enter to select.</div>
        </div>
    </section>


    <!-- Recommended for You Section -->
    <section class="py-12 md:py-16 bg-background" style="display: flex; padding: 36px 96px; flex-direction: column; align-items: flex-start; gap: 10px; align-self: stretch;">
        <div class="max-w-full mx-auto" style="padding: 0;">
            <div class="mb-8 md:mb-12 flex justify-between items-center">
                <h2 class="category-title">
                    Recommended
                </h2>
                
                <!-- Navigation Arrows -->
                <div class="flex gap-1">
                    <button class="carousel-nav carousel-nav-prev bg-transparent border-none rounded-full w-8 h-8 flex items-center justify-center hover:bg-red-50/50 transition-all duration-300" id="recommendedPrevBtn" type="button">
                        <span class="sr-only">Previous recommended events</span>
                        <svg class="w-5 h-5" style="color: #340AFF;" fill="currentColor" viewBox="0 -960 960 960" aria-hidden="true">
                            <path d="M640-80 240-480l400-400 71 71-329 329 329 329-71 71Z"/>
                        </svg>
                    </button>
                    <button class="carousel-nav carousel-nav-next bg-transparent border-none rounded-full w-8 h-8 flex items-center justify-center hover:bg-red-50/50 transition-all duration-300" id="recommendedNextBtn" type="button">
                        <span class="sr-only">Next recommended events</span>
                        <svg class="w-5 h-5" style="color: #340AFF;" fill="currentColor" viewBox="0 -960 960 960" aria-hidden="true">
                            <path d="m321-80-71-71 329-329-329-329 71-71 400 400L321-80Z"/>
                        </svg>
                    </button>
                        </div>
                    </div>
            
            <div class="relative">
                <!-- Carousel Container -->
                <div class="recommended-carousel-container overflow-hidden cursor-grab active:cursor-grabbing" id="recommendedCarouselContainer">
                    <div class="recommended-carousel-track flex transition-transform duration-300 ease-out" id="recommendedCarousel">
                        <!-- Recommended events will be populated here -->
                        </div>
                    </div>
                        </div>
                    </div>
    </section>

    <!-- Most Popular Section -->
    <section class="py-12 md:py-16 bg-background" style="display: flex; padding: 36px 96px; flex-direction: column; align-items: flex-start; gap: 10px; align-self: stretch;">
        <div class="max-w-full mx-auto" style="padding: 0;">
            <div class="mb-8 md:mb-12 flex justify-between items-center">
                <h2 class="category-title">
                    Most Popular
                </h2>
                
                <!-- Navigation Arrows -->
                <div class="flex gap-1">
                    <button class="carousel-nav carousel-nav-prev bg-transparent border-none rounded-full w-8 h-8 flex items-center justify-center hover:bg-red-50/50 transition-all duration-300" id="mostPopularPrevBtn" type="button">
                        <span class="sr-only">Previous most popular events</span>
                        <svg class="w-5 h-5" style="color: #340AFF;" fill="currentColor" viewBox="0 -960 960 960" aria-hidden="true">
                            <path d="M640-80 240-480l400-400 71 71-329 329 329 329-71 71Z"/>
                        </svg>
                    </button>
                    <button class="carousel-nav carousel-nav-next bg-transparent border-none rounded-full w-8 h-8 flex items-center justify-center hover:bg-red-50/50 transition-all duration-300" id="mostPopularNextBtn" type="button">
                        <span class="sr-only">Next most popular events</span>
                        <svg class="w-5 h-5" style="color: #340AFF;" fill="currentColor" viewBox="0 -960 960 960" aria-hidden="true">
                            <path d="m321-80-71-71 329-329-329-329 71-71 400 400L321-80Z"/>
                        </svg>
                    </button>
                        </div>
                    </div>
            
            <div class="relative">
                <!-- Carousel Container -->
                <div class="recommended-carousel-container overflow-hidden cursor-grab active:cursor-grabbing" id="mostPopularCarouselContainer">
                    <div class="recommended-carousel-track flex transition-transform duration-300 ease-out" id="mostPopularCarousel">
                        <!-- Most popular events will be populated here -->
                        </div>
                    </div>
                        </div>
                    </div>
    </section>

    <!-- Tónlist Section -->
    <section class="py-12 md:py-16 bg-background" style="display: flex; padding: 36px 96px; flex-direction: column; align-items: flex-start; gap: 10px; align-self: stretch;">
        <div class="max-w-full mx-auto" style="padding: 0;">
            <div class="mb-8 md:mb-12 flex justify-between items-center">
                <h2 class="category-title">
                    Music Events
                </h2>
                
                <!-- Navigation Arrows -->
                <div class="flex gap-1">
                    <button class="carousel-nav carousel-nav-prev bg-transparent border-none rounded-full w-8 h-8 flex items-center justify-center hover:bg-red-50/50 transition-all duration-300" id="musicPrevBtn" type="button">
                        <span class="sr-only">Previous music events</span>
                        <svg class="w-5 h-5" style="color: #340AFF;" fill="currentColor" viewBox="0 -960 960 960" aria-hidden="true">
                            <path d="M640-80 240-480l400-400 71 71-329 329 329 329-71 71Z"/>
                        </svg>
                    </button>
                    <button class="carousel-nav carousel-nav-next bg-transparent border-none rounded-full w-8 h-8 flex items-center justify-center hover:bg-red-50/50 transition-all duration-300" id="musicNextBtn" type="button">
                        <span class="sr-only">Next music events</span>
                        <svg class="w-5 h-5" style="color: #340AFF;" fill="currentColor" viewBox="0 -960 960 960" aria-hidden="true">
                            <path d="m321-80-71-71 329-329-329-329 71-71 400 400L321-80Z"/>
                        </svg>
                    </button>
                        </div>
                    </div>
            
            <div class="relative">
                <!-- Carousel Container -->
                <div class="recommended-carousel-container overflow-hidden cursor-grab active:cursor-grabbing" id="musicCarouselContainer">
                    <div class="recommended-carousel-track flex transition-transform duration-300 ease-out" id="musicCarousel">
                        <!-- Music events will be populated here -->
                        </div>
                    </div>
                        </div>
                    </div>
    </section>

    <!-- Theater Section -->
    <section class="py-12 md:py-16 bg-background" style="display: flex; padding: 36px 96px; flex-direction: column; align-items: flex-start; gap: 10px; align-self: stretch;">
        <div class="max-w-full mx-auto" style="padding: 0;">
            <div class="mb-8 md:mb-12 flex justify-between items-center">
                <h2 class="category-title">
                    Theater Events
                </h2>
                
                <!-- Navigation Arrows -->
                <div class="flex gap-1">
                    <button class="carousel-nav carousel-nav-prev bg-transparent border-none rounded-full w-8 h-8 flex items-center justify-center hover:bg-red-50/50 transition-all duration-300" id="theaterPrevBtn" type="button">
                        <span class="sr-only">Previous theater events</span>
                        <svg class="w-5 h-5" style="color: #340AFF;" fill="currentColor" viewBox="0 -960 960 960" aria-hidden="true">
                            <path d="M640-80 240-480l400-400 71 71-329 329 329 329-71 71Z"/>
                        </svg>
                    </button>
                    <button class="carousel-nav carousel-nav-next bg-transparent border-none rounded-full w-8 h-8 flex items-center justify-center hover:bg-red-50/50 transition-all duration-300" id="theaterNextBtn" type="button">
                        <span class="sr-only">Next theater events</span>
                        <svg class="w-5 h-5" style="color: #340AFF;" fill="currentColor" viewBox="0 -960 960 960" aria-hidden="true">
                            <path d="m321-80-71-71 329-329-329-329 71-71 400 400L321-80Z"/>
                        </svg>
                    </button>
                    </div>
                        </div>
            
            <div class="relative">
                <!-- Carousel Container -->
                <div class="recommended-carousel-container overflow-hidden cursor-grab active:cursor-grabbing" id="theaterCarouselContainer">
                    <div class="recommended-carousel-track flex transition-transform duration-300 ease-out" id="theaterCarousel">
                        <!-- Theater events will be populated here -->
                    </div>
                        </div>
                    </div>
                        </div>
    </section>

    <!-- Dans Section -->
    <section class="py-12 md:py-16 bg-background" style="display: flex; padding: 36px 96px; flex-direction: column; align-items: flex-start; gap: 10px; align-self: stretch;">
        <div class="max-w-full mx-auto" style="padding: 0;">
            <div class="mb-8 md:mb-12 flex justify-between items-center">
                <h2 class="category-title">
                    Dance Events
                </h2>
                
                <!-- Navigation Arrows -->
                <div class="flex gap-1">
                    <button class="carousel-nav carousel-nav-prev bg-transparent border-none rounded-full w-8 h-8 flex items-center justify-center hover:bg-red-50/50 transition-all duration-300" id="dancePrevBtn" type="button">
                        <span class="sr-only">Previous dance events</span>
                        <svg class="w-5 h-5" style="color: #340AFF;" fill="currentColor" viewBox="0 -960 960 960" aria-hidden="true">
                            <path d="M640-80 240-480l400-400 71 71-329 329 329 329-71 71Z"/>
                        </svg>
                    </button>
                    <button class="carousel-nav carousel-nav-next bg-transparent border-none rounded-full w-8 h-8 flex items-center justify-center hover:bg-red-50/50 transition-all duration-300" id="danceNextBtn" type="button">
                        <span class="sr-only">Next dance events</span>
                        <svg class="w-5 h-5" style="color: #340AFF;" fill="currentColor" viewBox="0 -960 960 960" aria-hidden="true">
                            <path d="m321-80-71-71 329-329-329-329 71-71 400 400L321-80Z"/>
                        </svg>
                    </button>
                        </div>
                    </div>
            
            <div class="relative">
                <!-- Carousel Container -->
                <div class="recommended-carousel-container overflow-hidden cursor-grab active:cursor-grabbing" id="danceCarouselContainer">
                    <div class="recommended-carousel-track flex transition-transform duration-300 ease-out" id="danceCarousel">
                        <!-- Dance events will be populated here -->
                        </div>
                    </div>
            </div>
        </div>
    </section>



            </div>
        </div>
    </main>


    <!-- Footer -->
    <footer class="relative overflow-hidden" id="contact" role="contentinfo" style="display: flex; padding: 36px 99px; flex-direction: column; justify-content: center; align-items: flex-start; gap: 10px; align-self: stretch; border-top: 1px solid #1E40AF; background: #FFF;">
        <div class="flex justify-between items-start w-full relative z-10" style="padding: 0;">
            <div>
                <h3 class="tit-no-underline mb-4 md:mb-5 font-bold" style="align-self: stretch; color: #333; font-family: Inter, sans-serif; font-size: 20px; font-style: normal; font-weight: 700; line-height: normal;">Contact</h3>
                <address class="mb-2 not-italic" style="align-self: stretch; color: #333; font-family: Inter, sans-serif; font-size: 16px; font-style: normal; font-weight: 400; line-height: normal;">
                    <p>Reykjavik, Iceland</p>
                    <p><a href="mailto:info@venuu.is" class="transition-colors" style="align-self: stretch; color: #333; font-family: Inter, sans-serif; font-size: 16px; font-style: normal; font-weight: 400; line-height: normal;" onmouseover="this.style.color='#1E40AF';" onmouseout="this.style.color='#333';">info@venuu.is</a></p>
                    <p><a href="tel:+3541234567" class="transition-colors" style="align-self: stretch; color: #333; font-family: Inter, sans-serif; font-size: 16px; font-style: normal; font-weight: 400; line-height: normal;" onmouseover="this.style.color='#1E40AF';" onmouseout="this.style.color='#333';">+354 123 4567</a></p>
                    <div class="social-media-icons" style="display: flex; gap: 12px; margin-top: 8px;">
                        <a href="#" aria-label="Facebook" style="transition: transform 0.2s ease;" onmouseover="this.style.transform='scale(1.1)';" onmouseout="this.style.transform='scale(1)';">
                            <svg width="10" height="20" viewBox="0 0 10 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M9.34469 11.1875L9.86325 7.74895H6.62096V5.51756C6.62096 4.57684 7.07388 3.65986 8.526 3.65986H10V0.732305C10 0.732305 8.66239 0.5 7.38349 0.5C4.71337 0.5 2.96806 2.14691 2.96806 5.12828V7.74895H0V11.1875H2.96806V19.5H6.62096V11.1875H9.34469Z" fill="#333333"/>
                            </svg>
                        </a>
                        <a href="#" aria-label="Instagram" style="transition: transform 0.2s ease;" onmouseover="this.style.transform='scale(1.1)';" onmouseout="this.style.transform='scale(1)';">
                            <svg width="19" height="20" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M9.50212 5.12864C6.8063 5.12864 4.63185 7.30358 4.63185 10C4.63185 12.6964 6.8063 14.8714 9.50212 14.8714C12.1979 14.8714 14.3724 12.6964 14.3724 10C14.3724 7.30358 12.1979 5.12864 9.50212 5.12864ZM9.50212 13.167C7.76001 13.167 6.33581 11.7467 6.33581 10C6.33581 8.25326 7.75577 6.83298 9.50212 6.83298C11.2485 6.83298 12.6684 8.25326 12.6684 10C12.6684 11.7467 11.2442 13.167 9.50212 13.167ZM15.7076 4.92938C15.7076 5.56108 15.1989 6.0656 14.5716 6.0656C13.94 6.0656 13.4356 5.55684 13.4356 4.92938C13.4356 4.30191 13.9443 3.79315 14.5716 3.79315C15.1989 3.79315 15.7076 4.30191 15.7076 4.92938ZM18.9332 6.08256C18.8612 4.56053 18.5136 3.21232 17.3988 2.10153C16.2883 0.99074 14.9404 0.643088 13.4187 0.566775C11.8504 0.477742 7.14964 0.477742 5.58132 0.566775C4.06386 0.638849 2.71595 0.9865 1.60117 2.09729C0.486392 3.20808 0.143056 4.55629 0.0667596 6.07832C-0.0222532 7.64699 -0.0222532 12.3488 0.0667596 13.9174C0.138818 15.4395 0.486392 16.7877 1.60117 17.8985C2.71595 19.0093 4.05962 19.3569 5.58132 19.4332C7.14964 19.5223 11.8504 19.5223 13.4187 19.4332C14.9404 19.3612 16.2883 19.0135 17.3988 17.8985C18.5094 16.7877 18.8569 15.4395 18.9332 13.9174C19.0223 12.3488 19.0223 7.65123 18.9332 6.08256ZM16.9071 15.6006C16.5765 16.4316 15.9365 17.0717 15.1015 17.4067C13.851 17.9027 10.8839 17.7882 9.50212 17.7882C8.1203 17.7882 5.14897 17.8985 3.90279 17.4067C3.072 17.076 2.43196 16.4358 2.0971 15.6006C1.60117 14.3499 1.71562 11.3821 1.71562 10C1.71562 8.61787 1.60541 5.64588 2.0971 4.39942C2.42772 3.56845 3.06776 2.92826 3.90279 2.59333C5.15321 2.09729 8.1203 2.21176 9.50212 2.21176C10.8839 2.21176 13.8553 2.10153 15.1015 2.59333C15.9322 2.92402 16.5723 3.56421 16.9071 4.39942C17.4031 5.65012 17.2886 8.61787 17.2886 10C17.2886 11.3821 17.4031 14.3541 16.9071 15.6006Z" fill="#333333"/>
                            </svg>
                        </a>
                        <a href="#" aria-label="Twitter" style="transition: transform 0.2s ease;" onmouseover="this.style.transform='scale(1.1)';" onmouseout="this.style.transform='scale(1)';">
                            <svg width="23" height="20" viewBox="0 0 23 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M20.6358 5.23514C20.6504 5.44294 20.6504 5.65079 20.6504 5.85859C20.6504 12.1968 15.9074 19.5 7.2386 19.5C4.5679 19.5 2.08694 18.7132 0 17.3477C0.379457 17.3922 0.744269 17.407 1.13832 17.407C3.34198 17.407 5.37057 16.65 6.9905 15.3586C4.91816 15.3141 3.18147 13.9336 2.58311 12.0336C2.87501 12.0781 3.16687 12.1078 3.47337 12.1078C3.89658 12.1078 4.31984 12.0484 4.71385 11.9445C2.55395 11.4992 0.933974 9.56952 0.933974 7.23905V7.1797C1.56149 7.53595 2.29125 7.75861 3.06467 7.78826C1.795 6.9273 0.963174 5.45779 0.963174 3.79528C0.963174 2.90467 1.19663 2.08826 1.60529 1.37576C3.92574 4.28513 7.41371 6.1851 11.3248 6.39295C11.2519 6.0367 11.2081 5.66564 11.2081 5.29454C11.2081 2.65232 13.3096 0.5 15.9219 0.5C17.2792 0.5 18.5051 1.0789 19.3661 2.01406C20.4314 1.80626 21.453 1.40546 22.3579 0.856253C22.0076 1.96956 21.2633 2.90472 20.2855 3.49842C21.2342 3.39457 22.1536 3.12732 23 2.75627C22.358 3.70623 21.5553 4.55229 20.6358 5.23514Z" fill="#333333"/>
                            </svg>
                        </a>
                    </div>
                </address>
            </div>
            <div>
                <h3 class="tit-no-underline mb-4 md:mb-5 font-bold" style="align-self: stretch; color: #333; font-family: Inter, sans-serif; font-size: 20px; font-style: normal; font-weight: 700; line-height: normal;">About</h3>
                <p class="mb-2" style="align-self: stretch; color: #333; font-family: Inter, sans-serif; font-size: 16px; font-style: normal; font-weight: 400; line-height: normal;">Venuu connects people through Iceland's vibrant cultural events.</p>
                <p class="mb-2" style="align-self: stretch; color: #333; font-family: Inter, sans-serif; font-size: 16px; font-style: normal; font-weight: 400; line-height: normal;">2025 Venuu. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Application State
        const App = {
            events: [],
            filteredEvents: [],
            currentPage: 0,
            eventsPerPage: 12,
            isLoading: false,
            searchTerm: '',
            filters: {
                category: '',
                location: '',
                sort: 'date'
            },
            dateOrder: 'asc', // 'asc' for earliest first, 'desc' for latest first
            availableImages: [
                'Images/event-posters/068e9d4bef717cd1000843dc38c603ec.jpg',
                'Images/event-posters/1d595e6dc1b6a3d963b932eb94de79d1.jpg',
                'Images/event-posters/233986128f46951bf66a727cca1b3a18.jpg',
                'Images/event-posters/24de6470d3365d85550c2c65ce8ddfca.jpg',
                'Images/event-posters/3bd777f8c2760cbf585251808e738698.jpg',
                'Images/event-posters/3f117cff666f231104f270edda727dab.jpg',
                'Images/event-posters/53fe06b8e5fe6593f0f2a5de835609d2.jpg',
                'Images/event-posters/542dfd6b879d676a823e611028e40984.jpg',
                'Images/event-posters/783d478fde50b0f1d23ed5db8e9e2dee.jpg',
                'Images/event-posters/90f82bfbdb111074fdfe5c1a6d813f5e.jpg',
                'Images/event-posters/9303687a932a721b3a360633ade52260.jpg',
                'Images/event-posters/96ec819f4ad7e5237c653c05baf5cd8c.jpg',
                'Images/event-posters/b365df6222f9cce1e0ec0bf2ee881fb9.jpg',
                'Images/event-posters/b3a1e66d241d956c3de527627d3c0a8a.jpg',
                'Images/event-posters/d7ecf3fce251c523f3bb43ee6620e902.jpg',
                'Images/event-posters/istockphoto-1478375497-612x612.jpg',
                'Images/event-posters/istockphoto-494896581-612x612.jpg',
                'Images/event-posters/pexels-jibarofoto-2774556.jpg',
                'Images/event-posters/Poster.jpg'
            ]
        };

        // Utility Functions
        const Utils = {
            log: (message, data = null) => console.log(`[Iceland Events] ${message}`, data || ''),
            error: (message, error = null) => console.error(`[Iceland Events] ${message}`, error || ''),
            show: (id) => document.getElementById(id)?.classList.remove('hidden'),
            hide: (id) => document.getElementById(id)?.classList.add('hidden'),
            setText: (id, text) => {
                const el = document.getElementById(id);
                if (el) el.textContent = text;
            },
            formatDate: (dateString) => {
                const date = new Date(dateString);
                return date.toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
            },
            getEventImage: (event, eventIndex = 0, allEvents = []) => {
                // Create a consistent hash from event ID to assign the same image to the same event
                const eventId = event.id || 0;
                let imageIndex = eventId % App.availableImages.length;
                
                // Check if this is for the carousel and we need to avoid adjacent duplicates
                if (allEvents.length > 0 && eventIndex >= 0) {
                    // Get the previous event's image
                    if (eventIndex > 0) {
                        const prevEvent = allEvents[eventIndex - 1];
                        const prevEventId = prevEvent.id || 0;
                        const prevImageIndex = prevEventId % App.availableImages.length;
                        
                        // If the current event would have the same image as the previous, shift it
                        if (imageIndex === prevImageIndex) {
                            imageIndex = (imageIndex + 1) % App.availableImages.length;
                        }
                    }
                }
                
                return App.availableImages[imageIndex];
            }
        };

        // Event Card Component
        const EventCard = {
            create: (event) => {
                const title = event.language?.is?.title || event.language?.en?.title || event.title || 'Untitled Event';
                const description = event.language?.is?.text || event.language?.en?.text || 'No description available';
                const location = event.formatted_address || event.city || 'Location TBD';
                const date = event.start ? Utils.formatDate(event.start) : 'Date TBD';
                // Use consistent image assignment based on event ID
                const imageUrl = Utils.getEventImage(event);
                const category = event.categories?.[0]?.name || 'Event';
                const tags = event.tags || [];

                const card = document.createElement('div');
                card.className = 'event-item';
                
                // Add click event handler
                card.addEventListener('click', () => {
                    console.log('Event card clicked:', event);
                    showEventDetails(event);
                });
                
                card.innerHTML = `
                    <div class="event-img">
                        <img src="${imageUrl}" alt="${title}" 
                             onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImciIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiMwMDY2Q0MiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiM3NjRiYTIiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2cpIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyNCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj7wn5GAPC90ZXh0Pjwvc3ZnPg=='"
                             onload="this.classList.add('loaded')">
                    </div>
                    <div class="event-caption">
                        <div class="event-title">${title}</div>
                        <div class="event-location">${location}</div>
                        <div class="event-date-row">
                            <div class="event-date">${date}</div>
                            <div class="event-heart">
                                <svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M8.5 16L7.2675 14.8665C5.83667 13.5441 4.65375 12.4033 3.71875 11.4441C2.78375 10.485 2.04 9.62398 1.4875 8.86104C0.935 8.09809 0.548958 7.39691 0.329375 6.75749C0.109792 6.11807 0 5.46412 0 4.79564C0 3.42961 0.44625 2.28883 1.33875 1.3733C2.23125 0.457766 3.34333 0 4.675 0C5.41167 0 6.11292 0.159855 6.77875 0.479564C7.44458 0.799273 8.01833 1.24977 8.5 1.83106C8.98167 1.24977 9.55542 0.799273 10.2213 0.479564C10.8871 0.159855 11.5883 0 12.325 0C13.6567 0 14.7688 0.457766 15.6613 1.3733C16.5538 2.28883 17 3.42961 17 4.79564C17 5.46412 16.8902 6.11807 16.6706 6.75749C16.451 7.39691 16.065 8.09809 15.5125 8.86104C14.96 9.62398 14.2163 10.485 13.2813 11.4441C12.3463 12.4033 11.1633 13.5441 9.7325 14.8665L8.5 16ZM8.5 13.6458C9.86 12.396 10.9792 11.3243 11.8575 10.4305C12.7358 9.53679 13.43 8.75931 13.94 8.09809C14.45 7.43688 14.8042 6.84832 15.0025 6.33243C15.2008 5.81653 15.3 5.30427 15.3 4.79564C15.3 3.92371 15.0167 3.19709 14.45 2.6158C13.8833 2.03451 13.175 1.74387 12.325 1.74387C11.6592 1.74387 11.0429 1.93642 10.4763 2.32153C9.90958 2.70663 9.52 3.19709 9.3075 3.79292H7.6925C7.48 3.19709 7.09042 2.70663 6.52375 2.32153C5.95708 1.93642 5.34083 1.74387 4.675 1.74387C3.825 1.74387 3.11667 2.03451 2.55 2.6158C1.98333 3.19709 1.7 3.92371 1.7 4.79564C1.7 5.30427 1.79917 5.81653 1.9975 6.33243C2.19583 6.84832 2.55 7.43688 3.06 8.09809C3.57 8.75931 4.26417 9.53679 5.1425 10.4305C6.02083 11.3243 7.14 12.396 8.5 13.6458Z" fill="#EF4444"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                `;
                
                return card;
            }
        };

        // Data Management
        const DataManager = {
            async loadEvents() {
                try {
                    Utils.log('Loading events...');
                    const response = await fetch('api-data.json');
                    
                    if (!response.ok) {
                        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                    }
                    
                    const events = await response.json();
                    Utils.log(`Loaded ${events.length} events`);
                    
                    App.events = events;
                    
                    // Initialize carousels after data is loaded
                    this.initializeCarousels();
                    
                } catch (error) {
                    Utils.error('Failed to load events', error);
                }
            },

            initializeCarousels() {
                // Initialize all carousel managers after events are loaded
                if (window.RecommendedCarouselManager) RecommendedCarouselManager.init();
                if (window.MostPopularCarouselManager) MostPopularCarouselManager.init();
                if (window.MusicCarouselManager) MusicCarouselManager.init();
                if (window.TheaterCarouselManager) TheaterCarouselManager.init();
                if (window.DanceCarouselManager) DanceCarouselManager.init();
            },

        };

        // Search Bar Manager
        const SearchBarManager = {
            init() {
                const searchInput = document.getElementById('searchInput');
                const searchBtn = document.getElementById('searchBtn');
                const searchDropdown = document.getElementById('searchDropdown');
                
                if (!searchInput || !searchDropdown) return;
                
                let searchTimeout;
                
                // Handle input events
                searchInput.addEventListener('input', (e) => {
                    const query = e.target.value.trim();
                    
                    // Clear previous timeout
                    if (searchTimeout) {
                        clearTimeout(searchTimeout);
                    }
                    
                    if (query.length >= 2) {
                        // Debounce search
                        searchTimeout = setTimeout(() => {
                            this.showSuggestions(query);
                        }, 300);
                    } else {
                        this.hideDropdown();
                    }
                });
                
                // Handle search button click
                searchBtn.addEventListener('click', () => {
                    const query = searchInput.value.trim();
                    if (query) {
                        this.performSearch(query);
                    }
                });
                
                // Handle Enter key
                searchInput.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        const query = searchInput.value.trim();
                        if (query) {
                            this.performSearch(query);
                        }
                    } else if (e.key === 'Escape') {
                        this.hideDropdown();
                        searchInput.blur();
                    }
                });
                
                // Handle focus
                searchInput.addEventListener('focus', () => {
                    const query = searchInput.value.trim();
                    if (query.length >= 2) {
                        this.showSuggestions(query);
                    }
                });
                
                // Hide dropdown when clicking outside
                document.addEventListener('click', (e) => {
                    if (!searchInput.contains(e.target) && !searchDropdown.contains(e.target)) {
                        this.hideDropdown();
                    }
                });
            },
            
            showSuggestions(query) {
                if (!App.events || App.events.length === 0) return;
                
                const suggestions = this.getSuggestions(query);
                this.displaySuggestions(suggestions);
            },
            
            getSuggestions(query) {
                const lowerQuery = query.toLowerCase();
                const suggestions = [];
                
                // Search through events
                App.events.forEach(event => {
                    const title = (event.language?.is?.title || event.language?.en?.title || event.title || '').toLowerCase();
                    const description = (event.language?.is?.text || event.language?.en?.text || '').toLowerCase();
                    const location = (event.formatted_address || event.city || '').toLowerCase();
                    const category = (event.categories?.[0]?.name || '').toLowerCase();
                    
                    // Check if query matches any field
                    if (title.includes(lowerQuery) || description.includes(lowerQuery) || 
                        location.includes(lowerQuery) || category.includes(lowerQuery)) {
                        
                        const eventTitle = event.language?.is?.title || event.language?.en?.title || event.title || 'Untitled Event';
                        const eventLocation = event.formatted_address || event.city || 'Location TBD';
                        const eventDate = event.start ? Utils.formatDate(event.start) : 'Date TBD';
                        
                        suggestions.push({
                            type: 'event',
                            title: eventTitle,
                            location: eventLocation,
                            date: eventDate,
                            event: event
                        });
                    }
                });
                
                // Get unique locations
                const locations = [...new Set(App.events
                    .map(event => event.formatted_address || event.city)
                    .filter(loc => loc && loc.toLowerCase().includes(lowerQuery))
                )].slice(0, 3);
                
                locations.forEach(location => {
                    suggestions.push({
                        type: 'location',
                        title: location,
                        subtitle: 'Location'
                    });
                });
                
                // Get unique categories
                const categories = [...new Set(App.events
                    .map(event => event.categories?.[0]?.name)
                    .filter(cat => cat && cat.toLowerCase().includes(lowerQuery))
                )].slice(0, 3);
                
                categories.forEach(category => {
                    suggestions.push({
                        type: 'category',
                        title: category,
                        subtitle: 'Category'
                    });
                });
                
                return suggestions.slice(0, 8); // Limit to 8 suggestions
            },
            
            displaySuggestions(suggestions) {
                const dropdown = document.getElementById('searchDropdown');
                
                if (suggestions.length === 0) {
                    dropdown.innerHTML = '<div class="no-results">No results found</div>';
                } else {
                    dropdown.innerHTML = suggestions.map(suggestion => {
                        if (suggestion.type === 'event') {
                            return `
                                <div class="search-suggestion" data-event-id="${suggestion.event.id}">
                                    <div class="suggestion-title">${suggestion.title}</div>
                                    <div class="suggestion-details">${suggestion.location} • ${suggestion.date}</div>
                                </div>
                            `;
                        } else {
                            return `
                                <div class="search-suggestion" data-type="${suggestion.type}" data-value="${suggestion.title}">
                                    <div class="suggestion-title">${suggestion.title}</div>
                                    <div class="suggestion-details">${suggestion.subtitle}</div>
                                </div>
                            `;
                        }
                    }).join('');
                    
                    // Add click handlers to suggestions
                    dropdown.querySelectorAll('.search-suggestion').forEach(item => {
                        item.addEventListener('click', () => {
                            if (item.dataset.eventId) {
                                // Handle event click
                                const event = App.events.find(e => e.id == item.dataset.eventId);
                                if (event) {
                                    this.performSearch(event.language?.is?.title || event.language?.en?.title || event.title);
                                }
                            } else {
                                // Handle location/category click
                                this.performSearch(item.dataset.value);
                            }
                        });
                    });
                }
                
                dropdown.classList.add('show');
            },
            
            hideDropdown() {
                const dropdown = document.getElementById('searchDropdown');
                dropdown.classList.remove('show');
            },
            
            performSearch(query) {
                // Update the main search input in the events section
                const mainSearchInput = document.getElementById('search-input');
                if (mainSearchInput) {
                    mainSearchInput.value = query;
                    App.searchTerm = query.toLowerCase();
                    DataManager.filterEvents();
                }
                
                // Hide dropdown
                this.hideDropdown();
                
                // Scroll to events section
                const eventsSection = document.getElementById('events');
                if (eventsSection) {
                    const headerHeight = document.querySelector('nav').offsetHeight;
                    const targetPosition = eventsSection.offsetTop - headerHeight - 20;
                    
                    gsap.to(window, {
                        duration: 1.2,
                        scrollTo: { y: targetPosition, autoKill: false },
                        ease: "power2.inOut"
                    });
                }
            }
        };

        // Search and Filter Handlers
        const SearchManager = {
            init() {
                const searchInput = document.getElementById('search-input');
                const categoryFilter = document.getElementById('category-filter');
                const locationFilter = document.getElementById('location-filter');
                const sortFilter = document.getElementById('sort-filter');
                const dateOrderToggle = document.getElementById('date-order-toggle');
                const dateOrderText = document.getElementById('date-order-text');
                const dateOrderIcon = dateOrderToggle ? dateOrderToggle.querySelector('i') : null;
                const clearFiltersBtn = document.getElementById('clear-filters');
                
                // Only initialize if elements exist (for events page)
                if (!searchInput) {
                    console.log('Search elements not found - skipping SearchManager initialization');
                    return;
                }
                
                if (searchInput) {
                searchInput.addEventListener('input', (e) => {
                    App.searchTerm = e.target.value.toLowerCase();
                    DataManager.filterEvents();
                });
                }
                
                if (categoryFilter) {
                categoryFilter.addEventListener('change', (e) => {
                    App.filters.category = e.target.value;
                    DataManager.filterEvents();
                });
                }
                
                if (locationFilter) {
                locationFilter.addEventListener('change', (e) => {
                    App.filters.location = e.target.value;
                    DataManager.filterEvents();
                });
                }
                
                if (sortFilter) {
                sortFilter.addEventListener('change', (e) => {
                    App.filters.sort = e.target.value;
                    DataManager.filterEvents();
                });
                }

                if (dateOrderToggle) {
                dateOrderToggle.addEventListener('click', () => {
                    // Toggle between ascending and descending
                    App.dateOrder = App.dateOrder === 'asc' ? 'desc' : 'asc';
                    
                    // Update button text and icon
                    if (App.dateOrder === 'asc') {
                        if (dateOrderText) dateOrderText.textContent = 'Earliest First';
                        if (dateOrderIcon) dateOrderIcon.className = 'fas fa-sort-amount-up';
                    } else {
                        if (dateOrderText) dateOrderText.textContent = 'Latest First';
                        if (dateOrderIcon) dateOrderIcon.className = 'fas fa-sort-amount-down';
                    }
                    
                    // Only re-sort if currently sorting by date
                    if (App.filters.sort === 'date') {
                        DataManager.filterEvents();
                    }
                });
                }

                if (clearFiltersBtn) {
                clearFiltersBtn.addEventListener('click', () => {
                    // Clear search input
                        if (searchInput) searchInput.value = '';
                    App.searchTerm = '';
                    
                    // Reset all filters to default values
                        if (categoryFilter) categoryFilter.value = '';
                        if (locationFilter) locationFilter.value = '';
                        if (sortFilter) sortFilter.value = 'date';
                    
                    App.filters.category = '';
                    App.filters.location = '';
                    App.filters.sort = 'date';
                    
                    // Reset date order to default
                    App.dateOrder = 'asc';
                        if (dateOrderText) dateOrderText.textContent = 'Earliest First';
                        if (dateOrderIcon) dateOrderIcon.className = 'fas fa-sort-amount-up';
                    
                    // Re-filter events
                    DataManager.filterEvents();
                });
                }
            }
        };

        // Animated Carousel Manager
        const CarouselManager = {
            timer: 4000,
            i: 0,
            max: 12,
            
            init() {
                // Initialize first items based on screen size
                this.showItems(0);
                
                // Start the carousel
                setInterval(() => {
                    this.cycleItems();
                }, this.timer);
                
                // Handle window resize
                window.addEventListener('resize', () => {
                    this.showItems(this.i);
                });
            },
            
            getItemsPerView() {
                // Return number of items to show based on screen size
                return window.innerWidth < 768 ? 2 : 4;
            },
            
            showItems(startIndex) {
                const items = document.querySelectorAll('#c > li');
                const itemsPerView = this.getItemsPerView();
                const itemWidth = 100 / itemsPerView;
                
                // Remove active class from all items
                items.forEach(item => item.classList.remove('active'));
                
                // Show items starting from startIndex
                for (let j = 0; j < itemsPerView; j++) {
                    const index = (startIndex + j) % this.max;
                    const item = items[index];
                    if (item) {
                        item.classList.add('active');
                        item.style.left = `${j * itemWidth}%`;
                    }
                }
            },
            
            cycleItems() {
                const items = document.querySelectorAll('#c > li');
                const itemsPerView = this.getItemsPerView();
                
                // Remove active class from all items
                items.forEach(item => item.classList.remove('active'));
                
                // Move to next set of items
                this.i = (this.i + itemsPerView) % this.max;
                
                // Show new items with staggered delays
                for (let j = 0; j < itemsPerView; j++) {
                    const index = (this.i + j) % this.max;
                    const item = items[index];
                    if (item) {
                        const itemWidth = 100 / itemsPerView;
                        item.style.left = `${j * itemWidth}%`;
                        setTimeout(() => {
                            item.classList.add('active');
                        }, j * 250); // Staggered appearance
                    }
                }
            }
        };


        // Category Carousel Manager (Base class for all category carousels)
        const CategoryCarouselManager = {
            createManager(category, filterFunction, title) {
                return {
                    currentIndex: 0,
                    itemsPerView: 3,
                    totalItems: 0,
                    carouselTrack: null,
                    carouselContainer: null,
                    isDragging: false,
                    startX: 0,
                    currentX: 0,
                    initialTranslateX: 0,
                    category: category,
                    filterFunction: filterFunction,
                    title: title,
                    
                    // Utility function to shuffle array for randomization
                    shuffleArray(array) {
                        const shuffled = [...array];
                        for (let i = shuffled.length - 1; i > 0; i--) {
                            const j = Math.floor(Math.random() * (i + 1));
                            [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
                        }
                        return shuffled;
                    },
            
            init() {
                        this.carouselTrack = document.getElementById(`${category}Carousel`);
                        this.carouselContainer = document.getElementById(`${category}CarouselContainer`);
                        const prevBtn = document.getElementById(`${category}PrevBtn`);
                        const nextBtn = document.getElementById(`${category}NextBtn`);
                        
                        if (!this.carouselTrack || !this.carouselContainer || !prevBtn || !nextBtn) return;
                        
                        // Wait for events to be loaded
                        if (App.events && App.events.length > 0) {
                            this.populateCarousel();
                            this.setupNavigation();
                            this.setupDrag();
                        } else {
                            // Wait for events to load
                            const checkEvents = setInterval(() => {
                                if (App.events && App.events.length > 0) {
                                    this.populateCarousel();
                                    this.setupNavigation();
                                    this.setupDrag();
                                    clearInterval(checkEvents);
                                }
                            }, 100);
                        }
                    },
                    
                    populateCarousel() {
                        // Filter events based on category
                        let categoryEvents = App.events.filter(this.filterFunction);
                        
                        // Special handling for recommended carousel - randomize events
                        if (this.category === 'recommended') {
                            // Shuffle the events array to get random selection
                            categoryEvents = this.shuffleArray([...categoryEvents]).slice(0, 8);
                        } else {
                            categoryEvents = categoryEvents.slice(0, 8);
                        }
                        
                        this.totalItems = categoryEvents.length;
                        
                        // Hide the entire carousel section if no events found
                        const carouselSection = this.carouselContainer.closest('section');
                        if (this.totalItems === 0) {
                            if (carouselSection) {
                                carouselSection.style.display = 'none';
                            }
                            return;
                        } else {
                            if (carouselSection) {
                                carouselSection.style.display = 'block';
                            }
                        }
                        
                        this.carouselTrack.innerHTML = categoryEvents.map((event, index) => {
                            const title = event.language?.is?.title || event.language?.en?.title || event.title || 'Untitled Event';
                            const description = event.language?.is?.text || event.language?.en?.text || event.description || 'No description available';
                            const date = event.start ? Utils.formatDate(event.start) : 'Date TBD';
                            const imageUrl = Utils.getEventImage(event, index, categoryEvents);
                            
                            return `
                                <div class="recommended-event-card" data-event-id="${event.id}" style="cursor: pointer;">
                                    <div class="recommended-event-image">
                                        <img src="${imageUrl}" alt="${title}" 
                                             onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImciIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiMwMDY2Q0MiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiM3NjRiYTIiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2cpIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyNCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj7wn5GAPC90ZXh0Pjwvc3ZnPg=='"
                                             onload="this.classList.add('loaded')">
                                    </div>
                                    <div class="recommended-event-content">
                                        <div class="recommended-event-title">${title}</div>
                                        <div class="recommended-event-date-row">
                                            <div class="recommended-event-date">${date}</div>
                                            <div class="event-heart">
                                                <svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M8.5 16L7.2675 14.8665C5.83667 13.5441 4.65375 12.4033 3.71875 11.4441C2.78375 10.485 2.04 9.62398 1.4875 8.86104C0.935 8.09809 0.548958 7.39691 0.329375 6.75749C0.109792 6.11807 0 5.46412 0 4.79564C0 3.42961 0.44625 2.28883 1.33875 1.3733C2.23125 0.457766 3.34333 0 4.675 0C5.41167 0 6.11292 0.159855 6.77875 0.479564C7.44458 0.799273 8.01833 1.24977 8.5 1.83106C8.98167 1.24977 9.55542 0.799273 10.2213 0.479564C10.8871 0.159855 11.5883 0 12.325 0C13.6567 0 14.7688 0.457766 15.6613 1.3733C16.5538 2.28883 17 3.42961 17 4.79564C17 5.46412 16.8902 6.11807 16.6706 6.75749C16.451 7.39691 16.065 8.09809 15.5125 8.86104C14.96 9.62398 14.2163 10.485 13.2813 11.4441C12.3463 12.4033 11.1633 13.5441 9.7325 14.8665L8.5 16ZM8.5 13.6458C9.86 12.396 10.9792 11.3243 11.8575 10.4305C12.7358 9.53679 13.43 8.75931 13.94 8.09809C14.45 7.43688 14.8042 6.84832 15.0025 6.33243C15.2008 5.81653 15.3 5.30427 15.3 4.79564C15.3 3.92371 15.0167 3.19709 14.45 2.6158C13.8833 2.03451 13.175 1.74387 12.325 1.74387C11.6592 1.74387 11.0429 1.93642 10.4763 2.32153C9.90958 2.70663 9.52 3.19709 9.3075 3.79292H7.6925C7.48 3.19709 7.09042 2.70663 6.52375 2.32153C5.95708 1.93642 5.34083 1.74387 4.675 1.74387C3.825 1.74387 3.11667 2.03451 2.55 2.6158C1.98333 3.19709 1.7 3.92371 1.7 4.79564C1.7 5.30427 1.79917 5.81653 1.9975 6.33243C2.19583 6.84832 2.55 7.43688 3.06 8.09809C3.57 8.75931 4.26417 9.53679 5.1425 10.4305C6.02083 11.3243 7.14 12.396 8.5 13.6458Z" fill="#EF4444"/>
                                                </svg>
                                            </div>
                                        </div>
                                        <div class="recommended-event-description">${description}</div>
                                    </div>
                                </div>
                            `;
                        }).join('');
                        
                        // Add click handlers to the new cards
                        this.carouselTrack.querySelectorAll('.recommended-event-card').forEach(card => {
                            card.addEventListener('click', () => {
                                const eventId = card.dataset.eventId;
                                const event = categoryEvents.find(e => e.id == eventId);
                                if (event) {
                                    showEventDetails(event);
                                }
                            });
                        });
                    },
                    
                    setupNavigation() {
                        const prevBtn = document.getElementById(`${this.category}PrevBtn`);
                        const nextBtn = document.getElementById(`${this.category}NextBtn`);
                        
                        prevBtn.addEventListener('click', () => this.previous());
                        nextBtn.addEventListener('click', () => this.next());
                        
                        // Update navigation state
                        this.updateNavigation();
                    },
                    
                    next() {
                        // Allow scrolling to show the last items properly
                        const maxIndex = Math.max(0, this.totalItems - this.itemsPerView);
                        if (this.currentIndex < maxIndex) {
                            this.currentIndex++;
                            this.updateCarousel();
                        }
            },
            
                    previous() {
                        if (this.currentIndex > 0) {
                            this.currentIndex--;
                this.updateCarousel();
                        }
            },
            
            updateCarousel() {
                        const cardWidth = 320 + 24; // card width + gap
                        const translateX = -this.currentIndex * cardWidth;
                        this.carouselTrack.style.transform = `translateX(${translateX}px)`;
                        this.updateNavigation();
                    },
                    
                    setupDrag() {
                        // Mouse events
                        this.carouselContainer.addEventListener('mousedown', this.startDrag.bind(this));
                        document.addEventListener('mousemove', this.drag.bind(this));
                        document.addEventListener('mouseup', this.endDrag.bind(this));
                        
                        // Touch events
                        this.carouselContainer.addEventListener('touchstart', this.startDrag.bind(this));
                        document.addEventListener('touchmove', this.drag.bind(this));
                        document.addEventListener('touchend', this.endDrag.bind(this));
                        
                        // Prevent default drag behavior
                        this.carouselContainer.addEventListener('dragstart', (e) => e.preventDefault());
                    },
                    
                    startDrag(e) {
                        this.isDragging = true;
                        this.carouselContainer.classList.add('dragging');
                        
                        // Prevent default touch behavior
                        if (e.type === 'touchstart') {
                            e.preventDefault();
                        }
                        
                        const clientX = e.type === 'touchstart' ? e.touches[0].clientX : e.clientX;
                        this.startX = clientX;
                        this.currentX = clientX;
                        
                        // Get current translateX value
                        const transform = this.carouselTrack.style.transform;
                        const match = transform.match(/translateX\(([^)]+)px\)/);
                        this.initialTranslateX = match ? parseFloat(match[1]) : 0;
                    },
                    
                    drag(e) {
                        if (!this.isDragging) return;
                        
                        // Prevent default to stop scrolling
                        e.preventDefault();
                        
                        const clientX = e.type === 'touchmove' ? e.touches[0].clientX : e.clientX;
                        this.currentX = clientX;
                        
                        const deltaX = this.currentX - this.startX;
                        const newTranslateX = this.initialTranslateX + deltaX;
                        
                        this.carouselTrack.style.transform = `translateX(${newTranslateX}px)`;
                    },
                    
                    endDrag(e) {
                        if (!this.isDragging) return;
                        
                        this.isDragging = false;
                        this.carouselContainer.classList.remove('dragging');
                        
                        // Get final position for touch events
                        if (e.type === 'touchend' && e.changedTouches && e.changedTouches[0]) {
                            this.currentX = e.changedTouches[0].clientX;
                        }
                        
                        const deltaX = this.currentX - this.startX;
                        const cardWidth = 320 + 24; // card width + gap
                        const threshold = cardWidth / 8; // Even more sensitive - 1/8 of card width
                        
                        // Only update if we have enough drag distance
                        if (Math.abs(deltaX) > threshold) {
                            if (deltaX > 0 && this.currentIndex > 0) {
                                // Dragging right - go to previous
                                this.currentIndex--;
                this.updateCarousel();
                            } else if (deltaX < 0) {
                                // Dragging left - go to next
                                const maxIndex = Math.max(0, this.totalItems - this.itemsPerView);
                                if (this.currentIndex < maxIndex) {
                                    this.currentIndex++;
                                    this.updateCarousel();
                                } else {
                                    // At boundary, snap back
                                    this.updateCarousel();
                                }
                    } else {
                                // At boundary, snap back
                                this.updateCarousel();
                            }
                        } else {
                            // Not enough drag distance, snap back
                            this.updateCarousel();
                        }
                    },
                    
                    updateNavigation() {
                        const prevBtn = document.getElementById(`${this.category}PrevBtn`);
                        const nextBtn = document.getElementById(`${this.category}NextBtn`);
                        
                        if (prevBtn) {
                            prevBtn.style.opacity = this.currentIndex > 0 ? '1' : '0.5';
                            prevBtn.disabled = this.currentIndex <= 0;
                        }
                        
                        if (nextBtn) {
                            // Allow navigation until we can show the last items properly
                            const maxIndex = Math.max(0, this.totalItems - this.itemsPerView);
                            nextBtn.style.opacity = this.currentIndex < maxIndex ? '1' : '0.5';
                            nextBtn.disabled = this.currentIndex >= maxIndex;
                        }
                    }
                };
            }
        };


        // Lottie Logo Manager
        const initLottieLogo = () => {
            const logoContainer = document.getElementById('lottie-logo');
            console.log('Initializing Lottie logo...', logoContainer, typeof lottie);
            
            if (logoContainer && typeof lottie !== 'undefined') {
                try {
                    const animation = lottie.loadAnimation({
                        container: logoContainer,
                        renderer: 'svg',
                        loop: true,
                        autoplay: true,
                        path: 'Video/NEWNEw.json'
                    });
                    
                    animation.addEventListener('data_failed', () => {
                        console.error('Failed to load Lottie animation data');
                        logoContainer.innerHTML = '<img src="Video/Negative-mask-effect1-ezgif.com-crop (1).gif" alt="Venuu logo - animated logo" class="h-12 md:h-14 w-auto">';
                    });
                    
                    animation.addEventListener('data_ready', () => {
                        console.log('Lottie animation data ready');
                    });
                    
                    console.log('Lottie animation loaded:', animation);
                } catch (error) {
                    console.error('Error loading Lottie animation:', error);
                    logoContainer.innerHTML = '<img src="Video/Negative-mask-effect1-ezgif.com-crop (1).gif" alt="Venuu logo - animated logo" class="h-12 md:h-14 w-auto">';
                }
            } else {
                console.error('Lottie not available or container not found');
                // Fallback: show the original GIF
                if (logoContainer) {
                    logoContainer.innerHTML = '<img src="Video/Negative-mask-effect1-ezgif.com-crop (1).gif" alt="Venuu logo - animated logo" class="h-12 md:h-14 w-auto">';
                }
            }
        };

        // Mobile Menu Manager
        const MobileMenuManager = {
            init() {
                const mobileMenuBtn = document.getElementById('mobile-menu-btn');
                const mobileMenu = document.getElementById('mobile-menu');
                
                if (mobileMenuBtn && mobileMenu) {
                    mobileMenuBtn.addEventListener('click', () => {
                        mobileMenu.classList.toggle('hidden');
                        
                        // Toggle icon between hamburger and X
                        const icon = mobileMenuBtn.querySelector('i');
                        if (mobileMenu.classList.contains('hidden')) {
                            icon.className = 'fas fa-bars text-xl';
                        } else {
                            icon.className = 'fas fa-times text-xl';
                        }
                    });
                    
                    // Close mobile menu when clicking on a link
                    mobileMenu.querySelectorAll('a').forEach(link => {
                        link.addEventListener('click', () => {
                            mobileMenu.classList.add('hidden');
                            const icon = mobileMenuBtn.querySelector('i');
                            icon.className = 'fas fa-bars text-xl';
                        });
                    });
                }
            }
        };

        // Recommended for You Carousel Manager (using same pattern as other carousels)
        window.RecommendedCarouselManager = CategoryCarouselManager.createManager('recommended', 
            (event) => {
                // For Recommended for You, we'll show a random selection of events
                // This could be based on user preferences, but for now we'll show random events
                return true; // Show all events for recommendations
            }, 'Recommended for You');

        // Most Popular Carousel Manager (using same pattern as other carousels)
        window.MostPopularCarouselManager = CategoryCarouselManager.createManager('mostPopular', 
            (event) => {
                // For Most Popular, we'll show a mix of different event types
                // This could be based on popularity metrics, but for now we'll show a variety
                return true; // Show all events for most popular
            }, 'Most Popular');

        // Initialize category carousels (make them global)
        window.MusicCarouselManager = CategoryCarouselManager.createManager('music', 
            (event) => {
                const title = (event.language?.is?.title || event.language?.en?.title || event.title || '').toLowerCase();
                const description = (event.language?.is?.text || event.language?.en?.text || '').toLowerCase();
                return title.includes('tónlist') || title.includes('music') || title.includes('concert') || 
                       title.includes('festival') || title.includes('band') || title.includes('söngur') ||
                       description.includes('tónlist') || description.includes('music') || description.includes('concert');
            }, 'Music Events');
        
        window.TheaterCarouselManager = CategoryCarouselManager.createManager('theater',
            (event) => {
                const title = (event.language?.is?.title || event.language?.en?.title || event.title || '').toLowerCase();
                const description = (event.language?.is?.text || event.language?.en?.text || '').toLowerCase();
                return title.includes('sviðslist') || title.includes('theater') || title.includes('leikur') || 
                       title.includes('drama') || title.includes('leikhús') || title.includes('sýning') ||
                       description.includes('sviðslist') || description.includes('theater') || description.includes('leikur');
            }, 'Theater Events');
        
        window.DanceCarouselManager = CategoryCarouselManager.createManager('dance',
            (event) => {
                const title = (event.language?.is?.title || event.language?.en?.title || event.title || '').toLowerCase();
                const description = (event.language?.is?.text || event.language?.en?.text || '').toLowerCase();
                return title.includes('dans') || title.includes('dance') || title.includes('ballett') || 
                       title.includes('ballet') || title.includes('dansleikur') || title.includes('dansflokkur') ||
                       description.includes('dans') || description.includes('dance') || description.includes('ballett');
            }, 'Dance Events');

        // Initialize Application
        const init = () => {
            Utils.log('Initializing Iceland Events App');
            DataManager.loadEvents();
            SearchManager.init();
            SearchBarManager.init();
            
            // Initialize Lottie Logo with a small delay to ensure library is loaded
            setTimeout(() => {
                initLottieLogo();
            }, 100);
            
            CarouselManager.init();
            MobileMenuManager.init();
        };

        // Start the app
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }

        // Animated Header JavaScript
        gsap.registerPlugin(DrawSVGPlugin, ScrollToPlugin);

        function initDrawRandomUnderline() {
            const svgVariants = [
                `<svg width="310" height="40" viewBox="0 0 310 40" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5 20.9999C26.7762 16.2245 49.5532 11.5572 71.7979 14.6666C84.9553 16.5057 97.0392 21.8432 109.987 24.3888C116.413 25.6523 123.012 25.5143 129.042 22.6388C135.981 19.3303 142.586 15.1422 150.092 13.3333C156.799 11.7168 161.702 14.6225 167.887 16.8333C181.562 21.7212 194.975 22.6234 209.252 21.3888C224.678 20.0548 239.912 17.991 255.42 18.3055C272.027 18.6422 288.409 18.867 305 17.9999" stroke="currentColor" stroke-width="10" stroke-linecap="round"/></svg>`,
                `<svg width="310" height="40" viewBox="0 0 310 40" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5 24.2592C26.233 20.2879 47.7083 16.9968 69.135 13.8421C98.0469 9.5853 128.407 4.02322 158.059 5.14674C172.583 5.69708 187.686 8.66104 201.598 11.9696C207.232 13.3093 215.437 14.9471 220.137 18.3619C224.401 21.4596 220.737 25.6575 217.184 27.6168C208.309 32.5097 197.199 34.281 186.698 34.8486C183.159 35.0399 147.197 36.2657 155.105 26.5837C158.11 22.9053 162.993 20.6229 167.764 18.7924C178.386 14.7164 190.115 12.1115 201.624 10.3984C218.367 7.90626 235.528 7.06127 252.521 7.49276C258.455 7.64343 264.389 7.92791 270.295 8.41825C280.321 9.25056 296 10.8932 305 13.0242" stroke="#E55050" stroke-width="10" stroke-linecap="round"/></svg>`,
                `<svg width="310" height="40" viewBox="0 0 310 40" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5 29.5014C9.61174 24.4515 12.9521 17.9873 20.9532 17.5292C23.7742 17.3676 27.0987 17.7897 29.6575 19.0014C33.2644 20.7093 35.6481 24.0004 39.4178 25.5014C48.3911 29.0744 55.7503 25.7731 63.3048 21.0292C67.9902 18.0869 73.7668 16.1366 79.3721 17.8903C85.1682 19.7036 88.2173 26.2464 94.4121 27.2514C102.584 28.5771 107.023 25.5064 113.276 20.6125C119.927 15.4067 128.83 12.3333 137.249 15.0014C141.418 16.3225 143.116 18.7528 146.581 21.0014C149.621 22.9736 152.78 23.6197 156.284 24.2514C165.142 25.8479 172.315 17.5185 179.144 13.5014C184.459 10.3746 191.785 8.74853 195.868 14.5292C199.252 19.3205 205.597 22.9057 211.621 22.5014C215.553 22.2374 220.183 17.8356 222.979 15.5569C225.4 13.5845 227.457 11.1105 230.742 10.5292C232.718 10.1794 234.784 12.9691 236.164 14.0014C238.543 15.7801 240.717 18.4775 243.356 19.8903C249.488 23.1729 255.706 21.2551 261.079 18.0014C266.571 14.6754 270.439 11.5202 277.146 13.6125C280.725 14.7289 283.221 17.209 286.393 19.0014C292.321 22.3517 298.255 22.5014 305 22.5014" stroke="#E55050" stroke-width="10" stroke-linecap="round"/></svg>`,
                `<svg width="310" height="40" viewBox="0 0 310 40" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M17.0039 32.6826C32.2307 32.8412 47.4552 32.8277 62.676 32.8118C67.3044 32.807 96.546 33.0555 104.728 32.0775C113.615 31.0152 104.516 28.3028 102.022 27.2826C89.9573 22.3465 77.3751 19.0254 65.0451 15.0552C57.8987 12.7542 37.2813 8.49399 44.2314 6.10216C50.9667 3.78422 64.2873 5.81914 70.4249 5.96641C105.866 6.81677 141.306 7.58809 176.75 8.59886C217.874 9.77162 258.906 11.0553 300 14.4892" stroke="#E55050" stroke-width="10" stroke-linecap="round"/></svg>`,
                `<svg width="310" height="40" viewBox="0 0 310 40" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.99805 20.9998C65.6267 17.4649 126.268 13.845 187.208 12.8887C226.483 12.2723 265.751 13.2796 304.998 13.9998" stroke="currentColor" stroke-width="10" stroke-linecap="round"/></svg>`,
                `<svg width="310" height="40" viewBox="0 0 310 40" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5 29.8857C52.3147 26.9322 99.4329 21.6611 146.503 17.1765C151.753 16.6763 157.115 15.9505 162.415 15.6551C163.28 15.6069 165.074 15.4123 164.383 16.4275C161.704 20.3627 157.134 23.7551 153.95 27.4983C153.209 28.3702 148.194 33.4751 150.669 34.6605C153.638 36.0819 163.621 32.6063 165.039 32.2029C178.55 28.3608 191.49 23.5968 204.869 19.5404C231.903 11.3436 259.347 5.83254 288.793 5.12258C294.094 4.99476 299.722 4.82265 305 5.45025" stroke="#E55050" stroke-width="10" stroke-linecap="round"/></svg>`
            ];
            
            // Add attributes to <svg> elements
            function decorateSVG(svgEl) {
                svgEl.setAttribute('class', 'text-draw__box-svg');
                svgEl.setAttribute('preserveAspectRatio', 'none');
                svgEl.querySelectorAll('path').forEach(path => {
                    path.setAttribute('stroke', 'currentColor');
                });
            }
            
            let nextIndex = null;
            document.querySelectorAll('[data-draw-line]').forEach(container => {
                const box = container.querySelector('[data-draw-line-box]');
                if (!box) return;
                let enterTween = null;
                let leaveTween = null;
                
                container.addEventListener('mouseenter', () => {
                    // Don't restart if still playing
                    if (enterTween && enterTween.isActive()) return;
                    if (leaveTween && leaveTween.isActive()) leaveTween.kill();
                    
                    // Random Start
                    if (nextIndex === null) {
                        nextIndex = Math.floor(Math.random() * svgVariants.length);
                    }
                    
                    // Animate Draw
                    box.innerHTML = svgVariants[nextIndex];
                    const svg = box.querySelector('svg');
                    if (svg) {
                        decorateSVG(svg);
                        const path = svg.querySelector('path');
                        if (path) {
                            gsap.set(path, { drawSVG: '0%' });
                            enterTween = gsap.to(path, {
                                duration: 0.5,
                                drawSVG: '100%',
                                ease: 'power2.inOut',
                                onComplete: () => { enterTween = null; }
                            });
                        }
                    }
                    
                    // Advance for next hover across all items
                    nextIndex = (nextIndex + 1) % svgVariants.length;
                });
                
                container.addEventListener('mouseleave', () => {
                    const path = box.querySelector('path');
                    if (!path) return;
                    
                    const playOut = () => {
                        // Don't restart if still drawing out
                        if (leaveTween && leaveTween.isActive()) return;
                        leaveTween = gsap.to(path, {
                            duration: 0.5,
                            drawSVG: '100% 100%',
                            ease: 'power2.inOut',
                            onComplete: () => {
                                leaveTween = null;
                                box.innerHTML = ''; // remove SVG when done
                            }
                        });
                    };
                    
                    if (enterTween && enterTween.isActive()) {
                        // Wait until draw-in finishes
                        enterTween.eventCallback('onComplete', playOut);
                    } else {
                        playOut();
                    }
                });
            });
        }
        
        // Smooth Scroll Navigation
        function initSmoothScroll() {
            // Handle logo click to scroll to top
            const logoLink = document.getElementById('logo-link');
            if (logoLink) {
                logoLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    try {
                        // Try GSAP ScrollToPlugin first
                        gsap.to(window, {
                            duration: 0.6,
                            scrollTo: { y: 0 },
                            ease: "power2.out"
                        });
                    } catch (error) {
                        // Fallback to native smooth scroll
                        window.scrollTo({
                            top: 0,
                            behavior: 'smooth'
                        });
                    }
                });
            }

            // Handle navigation clicks
            document.querySelectorAll('.nav-menu a[href^="#"]').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    
                    if (targetElement) {
                        // Calculate offset for fixed header
                        const headerHeight = document.querySelector('nav').offsetHeight;
                        const targetPosition = targetElement.offsetTop - headerHeight - 20;
                        
                        // Use GSAP for smooth scroll animation
                        gsap.to(window, {
                            duration: 1.2,
                            scrollTo: { y: targetPosition, autoKill: false },
                            ease: "power2.inOut"
                        });
                    }
                });
            });
            
        }

        // Text Animation Functions
        function initTextAnimation() {
            // Split text into words and letters for elements with 'tit' class
            $('.tit').each(function(){
                var $t = $(this),
                    text = $t.text(),
                    word = text.split(' ');
                
                $t.text('');
                
                $.each(word, function(i, val){
                    $('<span class="splitted-word"></span>').appendTo($t);
                    letter = val.split('');
                    $.each(letter, function(j, v) {
                        $('<span class="splitted-letter">' + v +'</span>').appendTo($('.splitted-word:last'), $t);
                    });
                    $('<span class="splitted-letter">&nbsp;</span>').appendTo($('.splitted-word:last'), $t);
                });
            });

            // Split text into words and letters for elements with 'tit-no-underline' class
            $('.tit-no-underline').each(function(){
                var $t = $(this),
                    text = $t.text(),
                    word = text.split(' ');
                
                $t.text('');
                
                $.each(word, function(i, val){
                    $('<span class="splitted-word"></span>').appendTo($t);
                    letter = val.split('');
                    $.each(letter, function(j, v) {
                        $('<span class="splitted-letter">' + v +'</span>').appendTo($('.splitted-word:last'), $t);
                    });
                    $('<span class="splitted-letter">&nbsp;</span>').appendTo($('.splitted-word:last'), $t);
                });
            });

            // Animate text when it comes into view
            inView('.tit').on('enter', function(el) {
                if ($(el).is(':not(".to-view")')){
                    $(el).addClass('to-view');
                    var letters = $('.splitted-letter', $(el));
                    gsap.to(letters, {
                        duration: 0.6,
                        delay: 0.1,
                        y: 0,
                        ease: "power3.easeInOut",
                        stagger: 0.006,
                        onComplete: function() {
                            letters.addClass('viewed');
                        }
                    });
                }
            });

            // Animate text without underline when it comes into view
            inView('.tit-no-underline').on('enter', function(el) {
                if ($(el).is(':not(".to-view")')){
                    $(el).addClass('to-view');
                    var letters = $('.splitted-letter', $(el));
                    gsap.to(letters, {
                        duration: 0.6,
                        delay: 0.1,
                        y: 0,
                        ease: "power3.easeInOut",
                        stagger: 0.006
                    });
                }
            });
        }

        // Utilities
        const kr = v => typeof v === "number"
            ? new Intl.NumberFormat("is-IS").format(v) + " kr"
            : v || "Price not set";

        const fmtDate = iso => new Date(iso).toLocaleDateString("en-GB", {
            year: "numeric", month: "long", day: "numeric"
        });

        const fmtRange = (startISO, endISO) => {
            if (!startISO) return "Date not set";
            if (!endISO) return fmtDate(startISO);
            const s = new Date(startISO);
            const e = new Date(endISO);
            const sameMonth = s.getMonth() === e.getMonth() && s.getFullYear() === e.getFullYear();
            if (sameMonth) {
                return `${s.toLocaleString("en-GB",{month:"long"})} ${s.getDate()} - ${e.getDate()}, ${e.getFullYear()}`;
            }
            return `${fmtDate(startISO)} - ${fmtDate(endISO)}`;
        };

        // Modal control - Initialize after DOM is ready
        let modalEl, panelEl, freeModalEl, freePanelEl, createModalEl, createPanelEl;
        
        function initModal() {
            modalEl = document.getElementById("event-modal");
            console.log('Modal element found:', modalEl);
            if (!modalEl) {
                console.error('Modal element not found!');
                return;
            }
            panelEl = modalEl.querySelector("[data-panel]");
            console.log('Panel element found:', panelEl);
            
            // Initialize free event modal
            freeModalEl = document.getElementById("free-event-modal");
            console.log('Free modal element found:', freeModalEl);
            if (freeModalEl) {
                freePanelEl = freeModalEl.querySelector("[data-panel]");
                console.log('Free panel element found:', freePanelEl);
            }
            
            // Initialize create event modal
            createModalEl = document.getElementById("create-event-modal");
            console.log('Create modal element found:', createModalEl);
            if (createModalEl) {
                createPanelEl = createModalEl.querySelector("[data-panel]");
                console.log('Create panel element found:', createPanelEl);
            }
            
            // Add event listeners for closing modals
            modalEl.addEventListener("click", e => {
                if (e.target.closest("[data-close]")) closeEventModal();
            });
            
            if (freeModalEl) {
                freeModalEl.addEventListener("click", e => {
                    if (e.target.closest("[data-close]")) closeFreeEventModal();
                });
            }
            
            if (createModalEl) {
                createModalEl.addEventListener("click", e => {
                    if (e.target.closest("[data-close]")) closeCreateEventModal();
                });
            }
        }

        function openEventModal(ev) {
            console.log('openEventModal called with:', ev);
            console.log('Modal element:', modalEl);
            
            if (!modalEl) {
                console.error('Modal not initialized!');
                return;
            }
            
            // Fill content
            const titleEl = document.getElementById("event-modal-title");
            const locationEl = document.getElementById("ev-location");
            const datesEl = document.getElementById("ev-dates");
            const priceEl = document.getElementById("ev-price");
            const ctaEl = document.getElementById("ev-cta");
            const img = document.getElementById("ev-cover");
            
            console.log('Modal elements found:', { titleEl, locationEl, datesEl, priceEl, ctaEl, img });
            
            if (titleEl) titleEl.textContent = ev.title || "Untitled event";
            if (locationEl) locationEl.textContent = ev.location || "Location TBA";
            if (datesEl) datesEl.textContent = fmtRange(ev.startDate, ev.endDate);
            if (priceEl) priceEl.textContent = kr(ev.price);
            if (ctaEl) {
                ctaEl.href = ev.ticketUrl || "#";
                ctaEl.textContent = ev.ctaLabel || "Go to TIX";
            }
            if (img) {
                img.src = ev.imageUrl || "/images/placeholder.jpg";
                img.alt = ev.imageAlt || ev.title || "Event cover";
            }

            const desc = document.getElementById("ev-desc");
            desc.innerHTML = "";                                  // clear
            const paragraphs = Array.isArray(ev.description)
                ? ev.description
                : String(ev.description || "").split(/\n{2,}/);
            paragraphs.filter(Boolean).forEach(t => {
                const p = document.createElement("p");
                p.textContent = t.trim();
                desc.appendChild(p);
            });

            // Bind actions
            document.getElementById("ev-share").onclick = async () => {
                const shareData = { title: ev.title, text: ev.shareText || ev.title, url: ev.shareUrl || ev.ticketUrl || location.href };
                if (navigator.share) { try { await navigator.share(shareData); } catch {} }
                else { navigator.clipboard.writeText(shareData.url).catch(()=>{}); }
            };
            document.getElementById("ev-save").onclick = () => {
                // Hook up to your save [favorite] logic
                // example: saveEvent(ev.id)
            };

            // Open
            console.log('About to show modal, current classes:', modalEl.className);
            modalEl.classList.remove("hidden");
            modalEl.removeAttribute("aria-hidden");
            console.log('Modal classes after show:', modalEl.className);
            console.log('Modal aria-hidden after show:', modalEl.getAttribute('aria-hidden'));

            // Basic focus trap
            const focusables = panelEl.querySelectorAll('a,button,input,textarea,select,[tabindex]:not([tabindex="-1"])');
            const first = focusables[0], last = focusables[focusables.length - 1];
            panelEl._trap = e => {
                if (e.key === "Tab") {
                    if (e.shiftKey && document.activeElement === first) { e.preventDefault(); last.focus(); }
                    else if (!e.shiftKey && document.activeElement === last) { e.preventDefault(); first.focus(); }
                }
                if (e.key === "Escape") closeEventModal();
            };
            panelEl.addEventListener("keydown", panelEl._trap);
            panelEl.focus();
        }

        function closeEventModal() {
            if (!modalEl) {
                console.error('Modal not initialized!');
                return;
            }
            modalEl.setAttribute("aria-hidden","true");
            modalEl.classList.add("hidden");
            panelEl.removeEventListener("keydown", panelEl._trap || (()=>{}));
        }

        function openFreeEventModal(ev) {
            console.log('openFreeEventModal called with:', ev);
            console.log('Free modal element:', freeModalEl);
            
            if (!freeModalEl) {
                console.error('Free modal not initialized!');
                return;
            }
            
            // Fill content
            const titleEl = document.getElementById("free-event-modal-title");
            const locationEl = document.getElementById("free-ev-location");
            const datesEl = document.getElementById("free-ev-dates");
            const img = document.getElementById("free-ev-cover");
            
            console.log('Free modal elements found:', { titleEl, locationEl, datesEl, img });
            
            if (titleEl) titleEl.textContent = ev.title || "Untitled event";
            if (locationEl) locationEl.textContent = ev.location || "Location TBA";
            if (datesEl) datesEl.textContent = fmtRange(ev.startDate, ev.endDate);
            if (img) {
                img.src = ev.imageUrl || "/images/placeholder.jpg";
                img.alt = ev.imageAlt || ev.title || "Event cover";
            }

            const desc = document.getElementById("free-ev-desc");
            desc.innerHTML = "";                                  // clear
            const paragraphs = Array.isArray(ev.description)
                ? ev.description
                : String(ev.description || "").split(/\n{2,}/);
            paragraphs.filter(Boolean).forEach(t => {
                const p = document.createElement("p");
                p.textContent = t.trim();
                desc.appendChild(p);
            });

            // Bind actions
            document.getElementById("free-ev-share").onclick = async () => {
                const shareData = { title: ev.title, text: ev.shareText || ev.title, url: ev.shareUrl || ev.ticketUrl || location.href };
                if (navigator.share) { try { await navigator.share(shareData); } catch {} }
                else { navigator.clipboard.writeText(shareData.url).catch(()=>{}); }
            };
            document.getElementById("free-ev-save").onclick = () => {
                // Hook up to your save [favorite] logic
                // example: saveEvent(ev.id)
            };

            // Handle signup form submission
            const signupForm = document.getElementById("free-event-signup");
            signupForm.onsubmit = async (e) => {
                e.preventDefault();
                const email = document.getElementById("signup-email").value;
                
                // Here you would typically send the email to your backend
                // For now, we'll just show a success message
                try {
                    // Simulate API call
                    console.log('Registering email:', email, 'for event:', ev.title);
                    
                    // Show success message
                    const button = signupForm.querySelector('button[type="submit"]');
                    const originalText = button.textContent;
                    button.textContent = "Registration Successful!";
                    button.classList.remove("border-green-500", "text-green-700", "hover:bg-green-50", "bg-green-50");
                    button.classList.add("border-green-600", "text-green-800", "bg-green-100");
                    
                    // Reset after 3 seconds
                    setTimeout(() => {
                        button.textContent = originalText;
                        button.classList.remove("border-green-600", "text-green-800", "bg-green-100");
                        button.classList.add("border-green-500", "text-green-700", "hover:bg-green-50", "bg-green-50");
                        signupForm.reset();
                    }, 3000);
                    
                } catch (error) {
                    console.error('Registration failed:', error);
                    alert('Registration failed. Please try again.');
                }
            };

            // Open
            console.log('About to show free modal, current classes:', freeModalEl.className);
            freeModalEl.classList.remove("hidden");
            freeModalEl.removeAttribute("aria-hidden");
            console.log('Free modal classes after show:', freeModalEl.className);

            // Basic focus trap
            const focusables = freePanelEl.querySelectorAll('a,button,input,textarea,select,[tabindex]:not([tabindex="-1"])');
            const first = focusables[0], last = focusables[focusables.length - 1];
            freePanelEl._trap = e => {
                if (e.key === "Tab") {
                    if (e.shiftKey && document.activeElement === first) { e.preventDefault(); last.focus(); }
                    else if (!e.shiftKey && document.activeElement === last) { e.preventDefault(); first.focus(); }
                }
                if (e.key === "Escape") closeFreeEventModal();
            };
            freePanelEl.addEventListener("keydown", freePanelEl._trap);
            freePanelEl.focus();
        }

        function closeFreeEventModal() {
            if (!freeModalEl) {
                console.error('Free modal not initialized!');
                return;
            }
            freeModalEl.setAttribute("aria-hidden","true");
            freeModalEl.classList.add("hidden");
            freePanelEl.removeEventListener("keydown", freePanelEl._trap || (()=>{}));
        }

        function openCreateEventModal() {
            console.log('openCreateEventModal called');
            console.log('Create modal element:', createModalEl);
            
            if (!createModalEl) {
                console.error('Create modal not initialized!');
                return;
            }
            
            // Reset form
            const form = document.getElementById("create-event-form");
            if (form) {
                form.reset();
            }
            
            // Open modal
            console.log('About to show create modal, current classes:', createModalEl.className);
            createModalEl.classList.remove("hidden");
            createModalEl.removeAttribute("aria-hidden");
            console.log('Create modal classes after show:', createModalEl.className);

            // Basic focus trap
            const focusables = createPanelEl.querySelectorAll('a,button,input,textarea,select,[tabindex]:not([tabindex="-1"])');
            const first = focusables[0], last = focusables[focusables.length - 1];
            createPanelEl._trap = e => {
                if (e.key === "Tab") {
                    if (e.shiftKey && document.activeElement === first) { e.preventDefault(); last.focus(); }
                    else if (!e.shiftKey && document.activeElement === last) { e.preventDefault(); first.focus(); }
                }
                if (e.key === "Escape") closeCreateEventModal();
            };
            createPanelEl.addEventListener("keydown", createPanelEl._trap);
            createPanelEl.focus();
        }

        // Make function globally accessible
        window.openCreateEventModal = openCreateEventModal;

        function closeCreateEventModal() {
            if (!createModalEl) {
                console.error('Create modal not initialized!');
                return;
            }
            createModalEl.setAttribute("aria-hidden","true");
            createModalEl.classList.add("hidden");
            createPanelEl.removeEventListener("keydown", createPanelEl._trap || (()=>{}));
        }

        // Event listener will be added in initModal

        // Convert existing event data to new format and populate EVENTS_BY_ID
        window.EVENTS_BY_ID = {};
        
        function convertEventToNewFormat(event) {
            // Determine if event should be free based on ID or title
            const isFreeEvent = event.id % 3 === 0 || // Every 3rd event is free
                               (event.language?.is?.title || event.language?.en?.title || event.title || '').toLowerCase().includes('free') ||
                               (event.language?.is?.title || event.language?.en?.title || event.title || '').toLowerCase().includes('gratis');
            
            // Set price based on whether it's free or not
            let price;
            if (isFreeEvent) {
                price = 0; // Free event
            } else {
                // Generate sample prices for paid events
                const samplePrices = [2500, 3500, 4500, 5500, 7500, 9500, 12500, 15000];
                price = samplePrices[event.id % samplePrices.length];
            }
            
            return {
                id: event.id,
                title: event.language?.is?.title || event.language?.en?.title || event.title || 'Untitled Event',
                location: event.formatted_address || event.city || 'Location TBD',
                startDate: event.start,
                endDate: event.end,
                price: price,
                ticketUrl: event.ticket_url || event.url,
                imageUrl: Utils.getEventImage(event),
                imageAlt: event.language?.is?.title || event.language?.en?.title || event.title || 'Event cover',
                description: event.language?.is?.text || event.language?.en?.text || event.description || 'No description available.',
                shareUrl: event.ticket_url || event.url || location.href
            };
        }

        // Hook into existing event loading
        const originalLoadEvents = DataManager.loadEvents;
        DataManager.loadEvents = function() {
            return originalLoadEvents.call(this).then(() => {
                // Populate EVENTS_BY_ID with converted events
                if (App.events) {
                    App.events.forEach(event => {
                        window.EVENTS_BY_ID[event.id] = convertEventToNewFormat(event);
                    });
                }
            });
        };

        // Update existing click handlers to use new modal
        function showEventDetails(event) {
            console.log('showEventDetails called with event:', event);
            const convertedEvent = convertEventToNewFormat(event);
            console.log('Converted event:', convertedEvent);
            
            // Check if event is free (price is 0, null, undefined, or "free")
            const isFreeEvent = !convertedEvent.price || 
                               convertedEvent.price === 0 || 
                               convertedEvent.price === "0" || 
                               convertedEvent.price.toString().toLowerCase().includes("free");
            
            if (isFreeEvent) {
                openFreeEventModal(convertedEvent);
            } else {
                openEventModal(convertedEvent);
            }
        }

        // Initialize Draw Random Underline
        document.addEventListener('DOMContentLoaded', function() {
            initModal();
            initDrawRandomUnderline();
            initSmoothScroll();
            initTextAnimation();
            
            // Debug: Check if Create Event modal is properly initialized
            console.log('Create Event modal element:', document.getElementById("create-event-modal"));
            console.log('openCreateEventModal function available:', typeof window.openCreateEventModal);
            
            // Add event listeners to Create Event links as backup
            const createEventLinks = document.querySelectorAll('a[aria-label="Create a new event"]');
            createEventLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    console.log('Create Event link clicked via event listener');
                    openCreateEventModal();
                });
            });
            console.log('Found Create Event links:', createEventLinks.length);
            
            // Handle Create Event form submission
            const createEventForm = document.getElementById("create-event-form");
            if (createEventForm) {
                createEventForm.addEventListener("submit", async (e) => {
                    e.preventDefault();
                    
                    const formData = new FormData(createEventForm);
                    const eventData = {
                        title: formData.get("title"),
                        date: formData.get("date"),
                        time: formData.get("time"),
                        location: formData.get("location"),
                        fee: formData.get("fee") || 0,
                        image: formData.get("image"),
                        description: formData.get("description")
                    };
                    
                    console.log('Creating event with data:', eventData);
                    
                    try {
                        // Here you would typically send the data to your backend
                        // For now, we'll just show a success message
                        
                        // Show success message
                        const submitButton = createEventForm.querySelector('button[type="submit"]');
                        const originalText = submitButton.textContent;
                        submitButton.textContent = "Event Created Successfully!";
                        submitButton.style.borderColor = "#10B981";
                        submitButton.style.color = "#10B981";
                        submitButton.style.backgroundColor = "#ECFDF5";
                        
                        // Reset after 3 seconds and close modal
                        setTimeout(() => {
                            submitButton.textContent = originalText;
                            submitButton.style.borderColor = "#340AFF";
                            submitButton.style.color = "#340AFF";
                            submitButton.style.backgroundColor = "transparent";
                            createEventForm.reset();
                            closeCreateEventModal();
                        }, 3000);
                        
                    } catch (error) {
                        console.error('Event creation failed:', error);
                        alert('Event creation failed. Please try again.');
                    }
                });
            }
        });
    </script>

    <!-- Event Details Popup Modal -->
    <div id="event-modal" class="fixed inset-0 z-50 hidden" aria-hidden="true">
        <div class="absolute inset-0 bg-black/50" data-close></div>

        <div role="dialog" aria-modal="true" aria-labelledby="event-modal-title"
             class="absolute inset-0 grid place-items-center p-4">
            <div class="w-[95vw] h-[90vh] sm:w-[900px] sm:h-[600px] rounded-2xl bg-white shadow-2xl ring-1 ring-black/5 overflow-hidden flex flex-col relative"
                 tabindex="-1" data-panel>

                <!-- Close button - top right corner -->
                <button class="absolute top-4 right-4 z-10 grid h-10 w-10 place-items-center rounded-full bg-white/90 hover:bg-white shadow-lg border border-gray-200" data-close aria-label="Close">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 6l12 12M18 6L6 18"/>
                    </svg>
                </button>

                <!-- Favorite button - below close button -->
                <button id="ev-save" class="absolute top-16 right-4 z-10 grid h-10 w-10 place-items-center rounded-full bg-white/90 hover:bg-white shadow-lg border border-gray-200" aria-label="Save">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M11.645 20.91l-.007-.003-.022-.011a20.55 20.55 0 01-1.933-1.143 22.063 22.063 0 01-3.26-2.414C3.642 15.107 2 12.745 2 10.25 2 7.903 3.903 6 6.25 6c1.507 0 2.88.698 3.75 1.79A4.75 4.75 0 0117.75 6C20.097 6 22 7.903 22 10.25c0 2.494-1.642 4.857-4.423 6.989a22.06 22.06 0 01-3.26 2.414 20.55 20.55 0 01-1.955 1.154l-.017.008-.007.003-.005.002-.003.001a.75.75 0 01-.63 0l-.003-.001-.005-.002z"/>
                    </svg>
                </button>

                <!-- Share button - below favorite button -->
                <button id="ev-share" class="absolute top-28 right-4 z-10 grid h-10 w-10 place-items-center rounded-full bg-white/90 hover:bg-white shadow-lg border border-gray-200" aria-label="Share">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12v7a1 1 0 001 1h14a1 1 0 001-1v-7M16 6l-4-4-4 4M12 2v14"/>
                    </svg>
                </button>

                <!-- Modal header - fixed -->
                <div class="p-8 border-b border-gray-100">
                    <div class="grid grid-cols-2 gap-8">
                        <!-- Top Left Quarter - Image -->
                        <div class="rounded-lg p-4 flex items-center justify-center max-h-[300px]">
                            <img id="ev-cover" src="/images/placeholder.jpg" alt="" class="max-h-full max-w-full rounded-lg object-contain">
                        </div>

                        <!-- Top Right Quarter - Event Details -->
                        <div class="rounded-lg p-6 pr-20">
                            <h2 id="event-modal-title" class="text-2xl sm:text-[28px] font-semibold tracking-tight text-gray-900 mb-6">
                                Iceland Airwaves
                            </h2>

                            <!-- Meta row -->
                            <div class="space-y-3 text-sm text-gray-700">
                                <div class="inline-flex items-center gap-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 21s-6-5.373-6-10a6 6 0 1112 0c0 4.627-6 10-6 10z"/><circle cx="12" cy="11" r="2"/>
                                    </svg>
                                    <span id="ev-location">Downtown Reykjavík</span>
                                </div>

                                <div class="inline-flex items-center gap-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3M3 9h18M5 9v11h14V9"/>
                                    </svg>
                                    <span id="ev-dates">November 6 [to] 8, 2025</span>
                                </div>

                                <div class="inline-flex items-center gap-2 font-medium text-gray-900">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h6l7 7-6 6-7-7V7z"/><circle cx="7.5" cy="7.5" r="1.5"/>
                                    </svg>
                                    <span>Price:</span>
                                    <span id="ev-price">12.400 kr</span>
                                </div>
                            </div>

                            <!-- CTA -->
                            <div class="mt-6">
                                <a id="ev-cta"
                                   href="#"
                                   target="_blank" rel="noopener"
                                   class="inline-flex items-center justify-center rounded-full border px-12 py-4 text-base font-semibold
                                          border-indigo-500 text-indigo-700 hover:bg-indigo-50">
                                    Go to TIX
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Scrollable content area -->
                <div class="flex-1 overflow-y-auto">
                    <div class="p-8">
                        <!-- Description -->
                        <div id="ev-desc" class="text-[15px] leading-8 text-gray-800 space-y-4 break-words overflow-wrap-anywhere">
                            <p>Three days, countless bands [local and international], and a music industry conference.</p>
                            <p>Iceland Airwaves is an annual music festival held in Reykjavík, Iceland.</p>
                            <p>Known for an eclectic line up, vibrant atmosphere, and top conference days.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Free Event Signup Modal -->
    <div id="free-event-modal" class="fixed inset-0 z-50 hidden" aria-hidden="true">
        <div class="absolute inset-0 bg-black/50" data-close></div>

        <div role="dialog" aria-modal="true" aria-labelledby="free-event-modal-title"
             class="absolute inset-0 grid place-items-center p-4">
            <div class="w-[95vw] h-[90vh] sm:w-[900px] sm:h-[600px] rounded-2xl bg-white shadow-2xl ring-1 ring-black/5 overflow-hidden flex flex-col relative"
                 tabindex="-1" data-panel>

                <!-- Close button - top right corner -->
                <button class="absolute top-4 right-4 z-10 grid h-10 w-10 place-items-center rounded-full bg-white/90 hover:bg-white shadow-lg border border-gray-200" data-close aria-label="Close">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 6l12 12M18 6L6 18"/>
                    </svg>
                </button>

                <!-- Favorite button - below close button -->
                <button id="free-ev-save" class="absolute top-16 right-4 z-10 grid h-10 w-10 place-items-center rounded-full bg-white/90 hover:bg-white shadow-lg border border-gray-200" aria-label="Save">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M11.645 20.91l-.007-.003-.022-.011a20.55 20.55 0 01-1.933-1.143 22.063 22.063 0 01-3.26-2.414C3.642 15.107 2 12.745 2 10.25 2 7.903 3.903 6 6.25 6c1.507 0 2.88.698 3.75 1.79A4.75 4.75 0 0117.75 6C20.097 6 22 7.903 22 10.25c0 2.494-1.642 4.857-4.423 6.989a22.06 22.06 0 01-3.26 2.414 20.55 20.55 0 01-1.955 1.154l-.017.008-.007.003-.005.002-.003.001a.75.75 0 01-.63 0l-.003-.001-.005-.002z"/>
                    </svg>
                </button>

                <!-- Share button - below favorite button -->
                <button id="free-ev-share" class="absolute top-28 right-4 z-10 grid h-10 w-10 place-items-center rounded-full bg-white/90 hover:bg-white shadow-lg border border-gray-200" aria-label="Share">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12v7a1 1 0 001 1h14a1 1 0 001-1v-7M16 6l-4-4-4 4M12 2v14"/>
                    </svg>
                </button>

                <!-- Modal header - fixed -->
                <div class="p-8 border-b border-gray-100">
                    <div class="grid grid-cols-2 gap-8">
                        <!-- Top Left Quarter - Image -->
                        <div class="rounded-lg p-4 flex items-center justify-center max-h-[300px]">
                            <img id="free-ev-cover" src="/images/placeholder.jpg" alt="" class="max-h-full max-w-full rounded-lg object-contain">
                        </div>

                        <!-- Top Right Quarter - Event Details -->
                        <div class="rounded-lg p-6 pr-20">
                            <h2 id="free-event-modal-title" class="text-2xl sm:text-[28px] font-semibold tracking-tight text-gray-900 mb-4">
                                Free Community Event
                            </h2>

                            <!-- Meta column -->
                            <div class="space-y-3 text-sm text-gray-700">
                                <div class="flex items-center gap-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 21s-6-5.373-6-10a6 6 0 1112 0c0 4.627-6 10-6 10z"/><circle cx="12" cy="11" r="2"/>
                                    </svg>
                                    <span id="free-ev-location">Community Center</span>
                                </div>

                                <div class="flex items-center gap-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3M3 9h18M5 9v11h14V9"/>
                                    </svg>
                                    <span id="free-ev-dates">December 15, 2025</span>
                                </div>

                                <div class="flex items-center gap-2 font-medium text-green-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                    </svg>
                                    <span>FREE EVENT</span>
                                </div>
                            </div>

                            <!-- Email Signup Form -->
                            <div class="mt-4">
                                <form id="free-event-signup" class="space-y-3">
                                    <div>
                                        <label for="signup-email" class="block text-xs font-medium text-gray-700 mb-1">
                                            Email Address
                                        </label>
                                        <input type="email" id="signup-email" name="email" required
                                               class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
                                               placeholder="Enter your email address">
                                    </div>
                                    <button type="submit" 
                                            class="w-full inline-flex items-center justify-center rounded-full border px-8 py-2 text-sm font-semibold
                                                   border-green-500 text-green-700 hover:bg-green-50 bg-green-50">
                                        Register for Free Event
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Scrollable content area -->
                <div class="flex-1 overflow-y-auto">
                    <div class="p-8">
                        <!-- Description -->
                        <div id="free-ev-desc" class="text-[15px] leading-8 text-gray-800 space-y-4 break-words overflow-wrap-anywhere">
                            <p>Join us for this free community event featuring local artists and musicians.</p>
                            <p>This is a great opportunity to connect with your community and enjoy some amazing performances.</p>
                            <p>Registration is required but completely free!</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Event Modal -->
    <div id="create-event-modal" class="fixed inset-0 z-50 hidden" aria-hidden="true">
        <div class="absolute inset-0 bg-black/50" data-close></div>

        <div role="dialog" aria-modal="true" aria-labelledby="create-event-modal-title"
             class="absolute inset-0 grid place-items-center p-4">
            <div class="w-[95vw] max-w-2xl rounded-2xl bg-white shadow-2xl ring-1 ring-black/5 overflow-hidden"
                 tabindex="-1" data-panel>

                <!-- Modal Header -->
                <div class="relative flex items-center justify-center p-6 border-b border-gray-100">
                    <h2 id="create-event-modal-title" class="text-2xl font-bold" style="color: #340AFF;">
                        Create the Event
                    </h2>
                    <button class="absolute right-6 grid h-8 w-8 place-items-center rounded-full hover:bg-gray-100" data-close aria-label="Close">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 6l12 12M18 6L6 18"/>
                        </svg>
                    </button>
                </div>

                <!-- Modal Content -->
                <div class="p-6">
                    <form id="create-event-form" class="space-y-6">
                        <!-- Title of Event -->
                        <div>
                            <label for="event-title" class="block text-sm font-medium text-gray-700 mb-2">
                                Title of Event
                            </label>
                            <div class="relative">
                                <input type="text" id="event-title" name="title" required
                                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"
                                       placeholder="Title">
                                <div class="absolute inset-y-0 right-0 flex items-center pr-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <!-- Date -->
                        <div>
                            <label for="event-date" class="block text-sm font-medium text-gray-700 mb-2">
                                Date
                            </label>
                            <div class="relative">
                                <input type="text" id="event-date" name="date" required
                                       class="w-full px-4 py-3 pl-10 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"
                                       placeholder="Select the Date">
                                <div class="absolute inset-y-0 left-0 flex items-center pl-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" viewBox="0 -960 960 960" fill="#e3e3e3">
                                        <path d="M200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-80h80v80h320v-80h80v80h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Zm0-480h560v-80H200v80Zm0 0v-80 80Zm280 240q-17 0-28.5-11.5T440-440q0-17 11.5-28.5T480-480q17 0 28.5 11.5T520-440q0 17-11.5 28.5T480-400Zm-160 0q-17 0-28.5-11.5T280-440q0-17 11.5-28.5T320-480q17 0 28.5 11.5T360-440q0 17-11.5 28.5T320-400Zm320 0q-17 0-28.5-11.5T600-440q0-17 11.5-28.5T640-480q17 0 28.5 11.5T680-440q0 17-11.5 28.5T640-400ZM480-240q-17 0-28.5-11.5T440-280q0-17 11.5-28.5T480-320q17 0 28.5 11.5T520-280q0 17-11.5 28.5T480-240Zm-160 0q-17 0-28.5-11.5T280-280q0-17 11.5-28.5T320-320q17 0 28.5 11.5T360-280q0 17-11.5 28.5T320-240Zm320 0q-17 0-28.5-11.5T600-280q0-17 11.5-28.5T640-320q17 0 28.5 11.5T680-280q0 17-11.5 28.5T640-240Z"/>
                                    </svg>
                                </div>
                                <div class="absolute inset-y-0 right-0 flex items-center pr-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" viewBox="0 -960 960 960" fill="#e3e3e3">
                                        <path d="M480-344 240-584l56-56 184 184 184-184 56 56-240 240Z"/>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <!-- Time -->
                        <div>
                            <label for="event-time" class="block text-sm font-medium text-gray-700 mb-2">
                                Time
                            </label>
                            <div class="relative">
                                <input type="text" id="event-time" name="time" required
                                       class="w-full px-4 py-3 pl-10 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"
                                       placeholder="Select the Time">
                                <div class="absolute inset-y-0 left-0 flex items-center pl-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                    </svg>
                                </div>
                                <div class="absolute inset-y-0 right-0 flex items-center pr-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" viewBox="0 -960 960 960" fill="#e3e3e3">
                                        <path d="M480-344 240-584l56-56 184 184 184-184 56 56-240 240Z"/>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <!-- Location -->
                        <div>
                            <label for="event-location" class="block text-sm font-medium text-gray-700 mb-2">
                                Location
                            </label>
                            <div class="relative">
                                <input type="text" id="event-location" name="location" required
                                       class="w-full px-4 py-3 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"
                                       placeholder="Select the Location">
                                <div class="absolute inset-y-0 left-0 flex items-center pl-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 21s-6-5.373-6-10a6 6 0 1112 0c0 4.627-6 10-6 10z"/><circle cx="12" cy="11" r="2"/>
                                    </svg>
                                </div>
                                <div class="absolute inset-y-0 right-0 flex items-center pr-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <!-- Registration Fee -->
                        <div>
                            <label for="event-fee" class="block text-sm font-medium text-gray-700 mb-2">
                                Registration Fee
                            </label>
                            <input type="number" id="event-fee" name="fee" min="0" step="100"
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"
                                   placeholder="Enter The Registration Fee">
                        </div>

                        <!-- Upload Image -->
                        <div>
                            <label for="event-image" class="block text-sm font-medium text-gray-700 mb-2">
                                Upload the Image
                            </label>
                            <div class="relative">
                                <input type="file" id="event-image" name="image" accept="image/*"
                                       class="w-full px-4 py-3 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"
                                       placeholder="jpg*">
                                <div class="absolute inset-y-0 left-0 flex items-center pl-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" viewBox="0 -960 960 960" fill="#e3e3e3">
                                        <path d="M440-320v-326L336-542l-56-58 200-200 200 200-56 58-104-104v326h-80ZM240-160q-33 0-56.5-23.5T160-240v-120h80v120h480v-120h80v120q0 33-23.5 56.5T720-160H240Z"/>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <!-- Description -->
                        <div>
                            <label for="event-description" class="block text-sm font-medium text-gray-700 mb-2">
                                Description
                            </label>
                            <textarea id="event-description" name="description" rows="4" required
                                      class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 resize-none"
                                      placeholder="Enter the Text"></textarea>
                        </div>

                        <!-- Submit Button -->
                        <div class="pt-4">
                            <button type="submit" 
                                    class="w-full inline-flex items-center justify-center rounded-lg border-2 px-6 py-3 text-base font-semibold focus:ring-2 focus:ring-offset-2"
                                    style="border-color: #340AFF; color: #340AFF;" 
                                    onmouseover="this.style.backgroundColor='#340AFF'; this.style.color='white';" 
                                    onmouseout="this.style.backgroundColor='transparent'; this.style.color='#340AFF';">
                                Send
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</body>
</html>